(()=>{"use strict";var e={1:(e,i,o)=>{o.d(i,{A:()=>l});var n=o(601),t=o.n(n),a=o(314),s=o.n(a)()(t());s.push([e.id,'a,abbr,address,article,aside,audio,b,blockquote,body,button,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,hr,header,hgroup,html,i,iframe,img,input,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,tr,ul,var,video,*:after,*:before{margin:0;padding:0;outline:none;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}mark{background-color:rgba(0,0,0,0)}ul,ol{list-style-type:none}table{border-spacing:0;border-collapse:collapse}caption,th{text-align:left}q:after,q:before{content:""}a{color:inherit}body,html{height:100%;width:100%}html{display:table;table-layout:fixed}body{font-family:Arial,Helvetica,sans-serif;text-align:center;background-color:#000;color:#fff;display:table-cell;vertical-align:middle}body canvas{opacity:0;pointer-events:none;margin-left:auto;margin-right:auto}body.during:after{content:"Gold Rush \\aLoading...";white-space:pre;color:#fff;font-size:30px;display:block;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%) rotateY(0);-webkit-animation:anim-logo-preloader 2.4s ease-in-out;animation:anim-logo-preloader 2.4s ease-in-out}body.during:before{content:"semDesign";color:#fff;margin-top:60px;font-size:16px;display:block;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%) rotateY(0);-webkit-animation:anim-logo-preloader 2.4s ease-in-out;animation:anim-logo-preloader 2.4s ease-in-out}body.ready:after,body.ready:before{display:none}body.ready canvas{opacity:1;pointer-events:auto}@keyframes anim-logo-preloader{0%{transform:translate(-50%, -50%) rotateY(180deg);color:#000}30%{transform:translate(-50%, -50%) rotateY(180deg)}60%{color:#000}100%{transform:translate(-50%, -50%) rotateY(0deg);color:#fff}}#game-content{margin:0 auto;width:100%;max-width:800px;max-height:100vh;position:relative}body.full-screen #game-content{max-width:none}',""]);const l=s},56:(e,i,o)=>{e.exports=function(e){var i=o.nc;i&&e.setAttribute("nonce",i)}},72:e=>{var i=[];function o(e){for(var o=-1,n=0;n<i.length;n++)if(i[n].identifier===e){o=n;break}return o}function n(e,n){for(var a={},s=[],l=0;l<e.length;l++){var d=e[l],r=n.base?d[0]+n.base:d[0],m=a[r]||0,c="".concat(r," ").concat(m);a[r]=m+1;var u=o(c),b={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)i[u].references++,i[u].updater(b);else{var h=t(b,n);n.byIndex=l,i.splice(l,0,{identifier:c,updater:h,references:1})}s.push(c)}return s}function t(e,i){var o=i.domAPI(i);return o.update(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap&&i.supports===e.supports&&i.layer===e.layer)return;o.update(e=i)}else o.remove()}}e.exports=function(e,t){var a=n(e=e||[],t=t||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var l=o(a[s]);i[l].references--}for(var d=n(e,t),r=0;r<a.length;r++){var m=o(a[r]);0===i[m].references&&(i[m].updater(),i.splice(m,1))}a=d}}},113:e=>{e.exports=function(e,i){if(i.styleSheet)i.styleSheet.cssText=e;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var i=[];return i.toString=function(){return this.map((function(i){var o="",n=void 0!==i[5];return i[4]&&(o+="@supports (".concat(i[4],") {")),i[2]&&(o+="@media ".concat(i[2]," {")),n&&(o+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),o+=e(i),n&&(o+="}"),i[2]&&(o+="}"),i[4]&&(o+="}"),o})).join("")},i.i=function(e,o,n,t,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var l=0;l<this.length;l++){var d=this[l][0];null!=d&&(s[d]=!0)}for(var r=0;r<e.length;r++){var m=[].concat(e[r]);n&&s[m[0]]||(void 0!==a&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=a),o&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=o):m[2]=o),t&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=t):m[4]="".concat(t)),i.push(m))}},i}},540:e=>{e.exports=function(e){var i=document.createElement("style");return e.setAttributes(i,e.attributes),e.insert(i,e.options),i}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var i={};e.exports=function(e,o){var n=function(e){if(void 0===i[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}i[e]=o}return i[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=e.insertStyleElement(e);return{update:function(o){!function(e,i,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var t=void 0!==o.layer;t&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,t&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var a=o.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),i.styleTagTransform(n,e,i.options)}(i,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)}}}}},i={};function o(n){var t=i[n];if(void 0!==t)return t.exports;var a=i[n]={id:n,exports:{}};return e[n](a,a.exports,o),a.exports}o.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return o.d(i,{a:i}),i},o.d=(e,i)=>{for(var n in i)o.o(i,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),o.nc=void 0;var n=o(72),t=o.n(n),a=o(825),s=o.n(a),l=o(659),d=o.n(l),r=o(56),m=o.n(r),c=o(540),u=o.n(c),b=o(113),h=o.n(b),p=o(1),y={};y.styleTagTransform=h(),y.setAttributes=m(),y.insert=d().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=u(),t()(p.A,y),p.A&&p.A.locals&&p.A.locals;const g=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":!(!/iPad|iPhone|iPod/.test(e)||window.MSStream)&&"iOS"},f=()=>{const e=document.createElement("canvas"),i=e.getContext("webgl")||e.getContext("experimental-webgl");return!!(i&&i instanceof WebGLRenderingContext)},v=(e,i,o)=>{let n=!1;for(var t=0,a=i.length;t<a;t++)"intruzi"==e?i[t].randomMove==o&&(n=!0):"kladki"==e&&i[t].isUp==o&&(n=!0);return n},j=e=>{let i=!1;return void 0!==e&&(i=!0),i},E=(e,i)=>{if((e=parseInt(e,10))>(i=parseInt(i,10))){const o=e;e=i,i=o}return Math.floor(Math.random()*(i-e+1)+e)},x=e=>e[Math.floor(Math.random()*e.length)],w=(e,i,o)=>{if(g())localStorage.setItem(e,i);else{let n;if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),n="; expires="+e.toGMTString()}else n="";document.cookie=e+"="+i+n+"; path=/"}},k=e=>{g()?localStorage.removeItem(e):document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},T=(e,i)=>{if(g())return i?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e);if(""!==document.cookie){const i=document.cookie.split(/; */);for(let o=0;o<i.length;o++){const n=i[o].split("=")[0],t=i[o].split("=")[1];if(n===decodeURIComponent(e))return decodeURIComponent(t)}}};var L=function(e,i,o,n){return new(o||(o=Promise))((function(t,a){function s(e){try{d(n.next(e))}catch(e){a(e)}}function l(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(e){e(i)}))).then(s,l)}d((n=n.apply(e,i||[])).next())}))};let S=null;document.addEventListener("deviceready",(()=>L(void 0,void 0,void 0,(function*(){if(window.cordova)try{if(!window.admob)return;yield window.admob.start(),console.log("admob.start() OK"),S=new window.admob.InterstitialAd({adUnitId:"ca-app-pub-4263972941440160/4876848772"}),S.on("load",(()=>{console.log("Interstitial LOADED!")})),S.on("error",(e=>{console.error("Interstitial ERROR:",e)})),S.on("dismiss",(()=>L(void 0,void 0,void 0,(function*(){try{yield S.load()}catch(e){console.error("Error:",e)}})))),yield S.load()}catch(e){console.error("Error:",e)}}))),!1),document.addEventListener("admob.ad.dismiss",(()=>L(void 0,void 0,void 0,(function*(){}))),!1),f()||alert("Unfortunately, your system does not support webGL, this game may run very slowly. Try to update the system."),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};const B=document.body;window.addEventListener("load",(function(e){setTimeout((function(){B.classList.add("during")}),2e3),setTimeout((function(){B.classList.remove("during"),B.classList.add("ready")}),6e3)})),g()||B.classList.add("browser");const C=16,M=[],A=.9;let I,O,P,H,G,z,W,R,D,_,F,N,Y,K,q,U,V,J,X={name:"level1",activeIdLevel:1,readyLoad:!1,blockedKeys:!1,backgroundLevel:!1,backgroundColor:!1,backgroundParallax:!1},$=[],Q="right",Z={main:!1},ee=1,ie=0,oe=0,ne=!1,te=0,ae=0,se=!1,le=!1,de=0,re=0,me=!1,ce=200;const ue={resetGameCookies:function(e){if("all"===e){k("unlock-levels"),O=1,k("coins-procent-last-memory"),k("id-level-last-memory");for(let e=1;e<=P;e++)k("coins-"+e),k("coins-procent-"+e)}k("bullets"),k("coins"),k("Lifes"),k("main-Lifes")},bgSet:function(e){fe.stage.backgroundColor=e},audio:{footStep:function(e){if(!this.a1){const i=fe.add.audio("footstep");i.play("",!1,e||.2),this.a1=!0,i.onStop.addOnce((function(){this.a1=!1}),this)}},magic:function(e){fe.add.audio("magic").play("",!1,e||.2)},bingo:function(e){fe.add.audio("bingo").play("",!1,e||.2)},coin:function(e){fe.add.audio("coin").play("",!1,e||.2)},ticScore:function(e){fe.add.audio("tic-score").play("",!1,e||.2)},shoot:function(e){fe.add.audio("shoot").play("",!1,e||.2)},bullets:function(e){fe.add.audio("bullets").play("",!1,e||.2)},explosionIntruder:function(){fe.add.audio("explosion-intruder").play("",!1,.5)},explosion:function(){fe.add.audio("explosion").play("",!1,.5)},breakBones:function(e){fe.add.audio("break-bones").play("",!1,e||.2)},scaleDown:function(e){fe.add.audio("scale-down").play("",!1,e||.2)},scream:function(e){fe.add.audio("scream").play("",!1,e||.2)},screamIntruder:function(e){fe.add.audio("scream-intruder").play("",!1,e||.2)},flash:function(e){fe.add.audio("flash").play("",!1,e||.2)},splash:function(e){this.aSplash||(fe.add.audio("splash").play("",!1,e||.1),this.aSplash=!0,fe.time.events.add(500,(function(){this.aSplash=!1}),this))},elevator:function(e){this.aElevator||(fe.add.audio("elevator").play("",!1,e||.1),this.aElevator=!0,fe.time.events.add(500,(function(){this.aElevator=!1}),this))},life:function(e){fe.add.audio("life").play("",!1,e||.2)},key:function(e){fe.add.audio("key").play("",!1,e||.2)},condor:function(e){if(!this.aCcondor){const i=fe.add.audio("condor");i.play("",!1,e||.2),this.aCcondor=!0,i.onStop.addOnce((function(){this.aCcondor=!1}),this)}},owl:function(e){if(!this.aOwl){const i=fe.add.audio("owl");i.play("",!1,e||.2),this.aOwl=!0,i.onStop.addOnce((function(){this.aOwl=!1}),this)}},breakGround:function(e){fe.add.audio("break-ground").play("",!1,e||.2)},quake:function(e){fe.add.audio("quake").play("",!1,e||.2)},doorLift:function(e){fe.add.audio("door-lift").play("",!1,e||.2)},bg:{play:function(e,i){i&&(j(this.obj)&&this.obj.destroy(),this.obj=fe.add.audio(i),this.obj.play("",!1,e||.2,!0))},stop:function(){j(this.obj)&&this.obj.stop()}},nextLevelNew:{play:function(e){this.nL||(j(this.obj)&&this.obj.destroy(),this.obj=fe.add.audio("next-level"),this.obj.play("",!1,e||.2),this.nL=!0,this.obj.onStop.addOnce((function(){this.nL=!1}),this))},stop:function(){j(this.obj)&&this.obj.stop()}}},preloader:{add:function(e,i,o,n){ue.bgSet("#000000"),ue.preloader.obj=fe.add.group(),ue.preloader.obj.enableBody=!0;const t=me?o?"Congratulations!":"":"Level "+X.activeIdLevel,a=me?o?"To be continued...":"":"Loading...";ue.text.show("center",0,-16,.9,t,"bold 52px Arial","#ffffff",!0,"loading1"),ue.text.show("center",0,11.2,.9,a,"bold 28px Arial","#ffffff",!0,"loading2"),ue.text.show("center",0,80,.9,"Copyright © Gold Rush, once upon a time in the Wild West...","16px Arial","#ffffff",!0,"loadingCopyright1"),ue.text.show("center",0,92,.9,"semDesign","14px Arial","#ffffff",!0,"loadingCopyright2")},hide:function(){j(this.obj)&&this.obj.destroy(),ue.text.hide("loading1"),ue.text.hide("loading2"),ue.text.hide("loadingCopyright1"),ue.text.hide("loadingCopyright2")}},windows:{boxTopMenu:{positionBar:function(e){ue.windows.boxMenu.obj||"inside-boxMenu"===e?(V=104,U=112):(U=-16,V=-14)},const:{show:function(e){ue.windows.boxTopMenu.positionBar(e),me||(ue.windows.boxTopMenu.positionBar(),ue.image.show(ue.windows.boxMenu.obj?288+U:528+U,(ue.windows.boxMenu.obj,24+V),"Life","Life1",1,1,.8,.8,8),ue.image.show(ue.windows.boxMenu.obj?352+U:592+U,(ue.windows.boxMenu.obj,24+V),"coin","coin",1,1,.8,.8,3),ue.image.show(ue.windows.boxMenu.obj?454.4+U:694.4+U,(ue.windows.boxMenu.obj,24+V-4),"bullets_gun","bullets_gun",1,1,.75,.75,0),ue.image.show(ue.windows.boxMenu.obj?520+U:760+U,(ue.windows.boxMenu.obj,24+V-2),"key","key",1,1,.7,.5,5))},hide:function(){if(!me){const e=["Life1","Life2","coin","bullets_gun","key"];for(let i=0,o=e.length;i<o;i++)ue.image.hide(e[i])}}},letAlways:{show:function(){ue.windows.boxTopMenu.positionBar(),M[X.activeIdLevel].timeLimit&&!X.blockedKeys&&(oe===M[X.activeIdLevel].timeLimit&&ue.windows.boxMenu.show("time-over"),ne=M[X.activeIdLevel].timeLimit-oe),ue.text.show(!1,(ue.windows.boxMenu.obj,64+U),(ue.windows.boxMenu.obj,24+V),1,"Level "+X.activeIdLevel+" / "+(M[X.activeIdLevel].timeLimit?"Limit: "+ne:oe)+"s","700 15px Arial","#ded4b8",!0,"level_text",!0)}},let:{show:function(){ue.windows.boxTopMenu.positionBar(),ue.text.show(!1,ue.windows.boxMenu.obj?304+U:544+U,(ue.windows.boxMenu.obj,24+V),1,"x "+ue.mainElements.player.numberMainLifes,"700 15px Arial","#ded4b8",!0,"number_main_Lifes_text",!0),ue.image.show(ue.windows.boxMenu.obj?235.2+U:475.2+U,(ue.windows.boxMenu.obj,28+V),"lifes-single-bar","lifes-single-bar",1,1,.8,.8,3-ue.mainElements.player.numberLifes),ue.text.show(!1,ue.windows.boxMenu.obj?368+U:608+U,(ue.windows.boxMenu.obj,24+V),1,"x "+ue.mainElements.player.numberCoins+" ("+ue.mainElements.player.numberCoinsLevelProcent+"%)","700 15px Arial","#ded4b8",!0,"coinstext",!0),ue.text.show(!1,ue.windows.boxMenu.obj?472+U:712+U,(ue.windows.boxMenu.obj,24+V),1,"x "+ue.mainElements.player.countBullets,"700 15px Arial","#ded4b8",!0,"bullets_gun_text",!0),ue.text.show(!1,ue.windows.boxMenu.obj?536+U:776+U,(ue.windows.boxMenu.obj,24+V),1,"x "+re,"700 15px Arial","#ded4b8",!0,"key_text",!0)}}},boxMenu:{obj:!1,bg:function(e){this.obj&&this.obj.destroy(),this.obj=fe.add.tileSprite(32,32,736,377,"boxMenu"),this.obj.alpha=0,this.obj.fixedToCamera=!0,e?this.obj.alpha=.8:fe.add.tween(this.obj).to({alpha:.8},180,Phaser.Easing.Linear.None,!0)},show:function(e){ue.buttons.openBoxMenu.hide(),this.bg(e),ue.buttons.end.show(),ue.buttons.startFromBeginning.show(),ue.buttons.mute.show(T("mute")?10:9),window.cordova||ue.buttons.fullScreenBrowser.show(),Z.main?(ue.buttons.navigations.hide(),ue.image.hide("boxTopMenu",!0),ue.windows.boxTopMenu.const.hide(),ue.windows.boxTopMenu.const.show("inside-boxMenu"),fe.time.events.add(300,(function(){fe.paused=!0}),this)):(ue.buttons.reset.show(),ue.buttons.cheat.show(),ue.buttons.levels.hide(),ue.buttons.play.hide(),ue.buttons.quit.hide(),ue.buttons.dude2.hide(),ue.buttons.mute.hide(),window.cordova||ue.buttons.fullScreenBrowser.hide(),ue.animationImage.sentence1.hide()),"game-complete"===e?ue.text.show("center",0,0,.6,"Thank you for playing","bold 46px Arial","#ffffff",!0,"game-complite"):"game-over"===e?ue.text.show("center",0,0,.6,"Game Over!","bold 46px Arial","#ffffff",!0,"game-complite"):"time-over"===e?ue.text.show("center",0,0,.6,"Time Over!","bold 46px Arial","#ffffff",!0,"game-complite"):(ue.buttons.closeBoxMenu.show(),ue.buttons.resume.show()),ue.windows.boxTopMenu.f=!1},hide:function(){fe.add.tween(this.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this),this.obj=!1,ue.buttons.end.hide(),ue.buttons.startFromBeginning.hide(),ue.buttons.reset.hide(),ue.buttons.cheat.hide(),ue.buttons.resume.hide(),ue.buttons.mute.hide(),window.cordova||ue.buttons.fullScreenBrowser.hide(),ue.buttons.closeBoxMenu.hide(),fe.paused=!1,Z.main?(me||(ue.buttons.navigations.show(),ue.image.show((ue.windows.boxMenu.obj,0),(ue.windows.boxMenu.obj,0),"boxTopMenu","boxTopMenu",.85,1,!1,!1,!1,!0),ue.windows.boxTopMenu.const.show()),ue.buttons.openBoxMenu.show("play-game")):(ue.buttons.openBoxMenu.show(),ue.buttons.levels.show(),ue.buttons.play.show(),ue.buttons.dude2.show(),ue.buttons.quit.show(),ue.buttons.mute.show(T("mute")?10:9),window.cordova||ue.buttons.fullScreenBrowser.show(),ue.animationImage.sentence1.show()),ue.windows.boxTopMenu.f=!1}}},animationImage:{sentence1:{fFirstLoad:!1,show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.image(592,304,"sentence2"),this.obj.alpha=0,this.obj.fixedToCamera=!0,this.obj.scale.x=.3,this.obj.scale.y=.3,j(this.obj2)&&this.obj2.destroy(),this.obj2=fe.add.image(360,224,"sentence2"),this.obj2.alpha=0,this.obj2.fixedToCamera=!0,this.obj2.scale.x=.5,this.obj2.scale.y=.5,j(this.obj3)&&this.obj3.destroy(),this.obj3=fe.add.image(488,312,"sentence2"),this.obj3.alpha=0,this.obj3.fixedToCamera=!0,this.obj3.scale.x=.45,this.obj3.scale.y=.45,j(this.obj4)&&this.obj4.destroy(),this.obj4=fe.add.image(392,288,"sentence2"),this.obj4.alpha=0,this.obj4.fixedToCamera=!0,this.obj4.scale.x=.4,this.obj4.scale.y=.4;let e=1e3;this.fFirstLoad||(e=6900,this.fFirstLoad=!0);const i=300;this.t1=fe.time.events.add(e,(function(){fe.add.tween(this.obj4).to({alpha:1},i,Phaser.Easing.Linear.None,!0),ue.audio.shoot(.1),this.t2=fe.time.events.add(300,(function(){fe.add.tween(this.obj3).to({alpha:1},i,Phaser.Easing.Linear.None,!0),ue.audio.shoot(.1),this.t3=fe.time.events.add(300,(function(){fe.add.tween(this.obj2).to({alpha:1},i,Phaser.Easing.Linear.None,!0),ue.audio.shoot(.1),this.t4=fe.time.events.add(300,(function(){fe.add.tween(this.obj).to({alpha:1},i,Phaser.Easing.Linear.None,!0),ue.audio.shoot(.1),ue.audio.nextLevelNew.play()}),this)}),this)}),this)}),this)},hide:function(){j(this.obj)&&this.obj.destroy(),j(this.obj2)&&this.obj2.destroy(),j(this.obj3)&&this.obj3.destroy(),j(this.obj4)&&this.obj4.destroy(),fe.time.events.remove(this.t1),fe.time.events.remove(this.t2),fe.time.events.remove(this.t3),fe.time.events.remove(this.t4),ue.audio.nextLevelNew.stop()}}},buttons:{openBoxMenu:{show:function(e){j(this.obj)&&this.obj.destroy(),this.obj="play-game"===e?fe.add.button(0,0,"buttonPause",(function(){ue.audio.breakBones(),ue.windows.boxMenu.show()}),this,0,0):fe.add.button(C,C,"buttonsWindowMenu",(function(){ue.audio.breakBones(),ue.windows.boxMenu.show()}),this,2,2),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},closeBoxMenu:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(704,48,"buttonsIcons",(function(){ue.audio.breakBones(),ue.windows.boxMenu.hide()}),this,3,2),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},dude2:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.image(592,176,"dude2"),this.obj.alpha=1,this.obj.fixedToCamera=!0,this.obj.animations.add("run",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11]),this.obj.animations.play("run",7,!0),this.obj.scale.x=1,this.obj.scale.y=1},hide:function(){j(this.obj)&&this.obj.destroy()}},play:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(144,C,"buttonsWindowMenu",(function(){ue.audio.breakBones(),be("continuation")}),this),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},quit:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(272,16,"buttonsWindowMenu",(function(){ue.audio.breakBones(),ue.windows.boxMenu.bg(),ue.text.show("center",0,-10,.9,"Are you sure you want to quit the game?","bold 26px Arial","#ffffff",!0,"quit-1"),ue.buttons.yes.show(16,16,"quit"),ue.buttons.no.show(27,16,"quit"),ue.buttons.openBoxMenu.hide(),ue.buttons.levels.hide(),ue.buttons.play.hide(),ue.buttons.dude2.hide(),ue.buttons.quit.hide(),ue.buttons.mute.hide(),window.cordova||ue.buttons.fullScreenBrowser.hide(),ue.animationImage.sentence1.hide()}),this,6,6),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},end:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(48,48,"buttonsWindowMenu",(function(){ue.audio.breakBones(),fe.time.events.removeAll(),ue.windows.boxMenu.hide(),pe(),ye(),X.name="level1",X.activeIdLevel=1}),this,1,1),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},startFromBeginning:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(176,48,"buttonsWindowMenu",(function(){ue.audio.breakBones(),fe.time.events.removeAll(),ue.windows.boxMenu.hide(),ue.mainElements.player.numberMainLifes=3,ue.mainElements.player.numberLifes=3,ue.mainElements.player.countBullets=6,ue.mainElements.player.numberCoins=0,w("coins",0),w("Lifes",3),w("main-Lifes",3),w("bullets",6),ye(),X.activeIdLevel<P?(X.name="level"+X.activeIdLevel,X.activeIdLevel=X.activeIdLevel):(X.name="level1",X.activeIdLevel=1),be()}),this,3,3),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},reset:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(304,48,"buttonsWindowMenu",(function(){ue.audio.breakBones(),ue.windows.boxMenu.hide(),X.name="level1",X.activeIdLevel=1,ue.resetGameCookies("all"),ye(),ue.buttons.levels.hide(),ue.buttons.levels.show()}),this,4,4),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},cheat:{show:function(){j(this.obj)&&this.obj.destroy();let e=1,i=0,o=!0,n=!0;this.obj=fe.add.button(48,112,"buttonsWindowMenu",(function(){ue.audio.breakBones(),i?10===i?(ue.audio.magic(),w("unlock-levels",9),setTimeout((function(){location.reload()}),1e3),e=1,i=0):i+=1:(clearTimeout(o),o=setTimeout((function(){e=1}),3e3),e+=1,6===e?n=setTimeout((function(){i=1}),5e3):e>6&&(e=1,clearTimeout(n)))}),this,11,11),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},resume:{show:function(){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(592,344,"buttonsWindowMenu",(function(){ue.audio.breakBones(),ue.windows.boxMenu.hide(),Z.main||be("continuation")}),this,Z.main?5:0,Z.main?5:0),this.obj.scale.x=1.4,this.obj.scale.y=1.4,this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},fullScreenBrowser:{show:function(){if(!window.cordova){j(this.obj)&&this.obj.destroy();const e=Z.main?304:400,i=Z.main?48:16;this.obj=fe.add.button(e,i,"buttonsWindowMenu",(function(){ue.audio.breakBones(),fe.paused&&(fe.paused=!1,fe.time.events.remove(this.t),this.t=fe.time.events.add(100,(function(){fe.paused=!0}),this)),this.obj.destroy(),window.cordova||ue.buttons.fullScreenBrowser.show(),fe.scale.isFullScreen?fe.scale.stopFullScreen():fe.scale.startFullScreen()}),this,12,12),this.obj.fixedToCamera=!0}},hide:function(){window.cordova||j(this.obj)&&this.obj.destroy()}},mute:{show:function(e){j(this.obj)&&this.obj.destroy();const i=Z.main?48:C,o=Z.main?112:80;this.obj=fe.add.button(i,o,"buttonsWindowMenu",(function(){ue.audio.breakBones(),fe.paused&&(fe.paused=!1,fe.time.events.remove(this.t),this.t=fe.time.events.add(100,(function(){fe.paused=!0}),this)),this.obj.destroy(),T("mute")?(ue.buttons.mute.show(9),fe.sound.mute=!1,k("mute")):(ue.buttons.mute.show(10),fe.sound.mute=!0,w("mute",1))}),this,e,e),this.obj.alpha=(Z.main,A),this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},yes:{show:function(e,i,o){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(e*C,i*C,"buttonsWindowMenu",(function(){ue.audio.breakBones(),"quit"===o&&(window.cordova?window.navigator.app.exitApp():fe.scale.isFullScreen?(fe.scale.stopFullScreen(),fe.time.events.add(400,(function(){location.reload()}),this)):location.reload())}),this,7,7),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},no:{show:function(e,i,o){j(this.obj)&&this.obj.destroy(),this.obj=fe.add.button(e*C,i*C,"buttonsWindowMenu",(function(){ue.audio.breakBones(),"quit"===o&&(ue.buttons.no.hide(),ue.buttons.yes.hide(),this.obj&&fe.add.tween(ue.windows.boxMenu.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this),ue.windows.boxMenu.obj=!1,ue.text.hide("quit-1"),ue.buttons.openBoxMenu.show(),ue.buttons.levels.show(),ue.buttons.play.show(),ue.buttons.dude2.show(),ue.buttons.quit.show(),ue.buttons.mute.show(T("mute")?10:9),window.cordova||ue.buttons.fullScreenBrowser.show(),ue.animationImage.sentence1.show())}),this,8,8),this.obj.alpha=A,this.obj.fixedToCamera=!0},hide:function(){j(this.obj)&&this.obj.destroy()}},navigations:{show:function(){j(this.left)&&this.left.destroy(),this.left=fe.add.button(-8,fe.height-160,"buttonNavigation",(function(){}),this,0,0),this.left.alpha=.4,this.left.scale.setTo(1.5,1.5),this.left.fixedToCamera=!0,this.left.onInputDown.add((function(){R.left.isDown=!0})),this.left.onInputUp.add((function(){R.left.isDown=!1})),j(this.right)&&this.right.destroy(),this.right=fe.add.button(128,fe.height-160,"buttonNavigation",(function(){}),this,1,1),this.right.alpha=.4,this.right.scale.setTo(1.5,1.5),this.right.fixedToCamera=!0,this.right.onInputDown.add((function(){R.right.isDown=!0})),this.right.onInputUp.add((function(){R.right.isDown=!1})),j(this.shot)&&this.shot.destroy(),this.shot=fe.add.button(fe.width-112,fe.height-208,"buttonNavigation",(function(){}),this,3,3),this.shot.alpha=ue.mainElements.player.countBullets?.6:0,this.shot.inputEnabled=!!ue.mainElements.player.countBullets,this.shot.fixedToCamera=!0,this.shot.onInputDown.add((function(){_.isDown=!0,fe.time.events.add(100,(function(){_.isDown=!1}),this)})),j(this.up)&&this.up.destroy(),this.up=fe.add.button(fe.width-112,fe.height-112,"buttonNavigation",(function(){}),this,2,2),this.up.alpha=.6,this.up.fixedToCamera=!0,this.up.onInputDown.add((function(){R.up.isDown=!0})),this.up.onInputUp.add((function(){R.up.isDown=!1})),j(this.down)&&this.down.destroy(),this.down=fe.add.button(fe.width-208,fe.height-112,"buttonNavigation",(function(){}),this,4,4),this.down.alpha=.6,this.down.fixedToCamera=!0,this.down.onInputDown.add((function(){R.down.isDown=!0})),this.down.onInputUp.add((function(){R.down.isDown=!1}))},hide:function(){j(this.left)&&j(this.right)&&j(this.up)&&j(this.shot)&&(this.left.destroy(),this.right.destroy(),this.up.destroy(),this.shot.destroy(),this.down.destroy())}},levels:{obj:[],text:[],text2:[],show:function(){j(this.cactus)&&this.cactus.destroy(),this.cactus=fe.add.image(272,304,"cactus-animate"),this.cactus.animations.add("run",[0,1,2,3,4,3,2,1,0]),this.cactus.animations.play("run",10,!0),this.cactus.fixedToCamera=!0,j(this.fog)&&this.fog.destroy(),this.fog=fe.add.image(144,224,"fog-single"),this.fog.animations.add("run"),this.fog.animations.play("run",9,!0),this.fog.alpha=.6,this.fog.fixedToCamera=!0;let e=0,i=0,o=0,n=!1;for(const t in fe.cache._cacheMap[7])fe.cache._cacheMap[7].hasOwnProperty(t)&&(e++,this.obj.push(e),this.text.push(e),this.text2.push(e),e>9&&(i=720,o=80),n=!1,e===Object.keys(fe.cache._cacheMap[7]).length&&(n="?"),e<=O||n?(this.obj[e]=fe.add.button(80*(e-1)+48-i,352+o,"buttonLevel",(function(){ue.audio.breakBones(),X.name="level"+this,X.activeIdLevel=this,ue.resetGameCookies(),be()}),e,0),this.text2[e]=fe.add.text(0,0,n?"Credits":"("+(T("coins-procent-"+e)?T("coins-procent-"+e):0)+"%)",{font:"12px Arial",fill:"#ffffff",boundsAlignH:"center",boundsAlignV:"middle"}),this.text2[e].setTextBounds(0,0,64,112),this.obj[e].addChild(this.text2[e])):this.obj[e]=fe.add.button(80*(e-1)+48-i,352+o,"buttonLevel",(function(){}),e,1,1),this.text[e]=fe.add.text(0,0,n||e,{font:"24px Arial",fill:"#ffffff",boundsAlignH:"center",boundsAlignV:"middle"}),this.text[e].setTextBounds(0,0,64,72),this.obj[e].alpha=1,this.obj[e].addChild(this.text[e]),this.obj[e].fixedToCamera=!0);P=e},hide:function(){j(this.cactus)&&this.cactus.destroy(),j(this.fog)&&this.fog.destroy();for(let e=1,i=this.obj.length;e<i;e++)this.obj[e].destroy();this.obj=[],this.text=[],this.text2=[]}}},text:{obj:[],show:function(e,i,o,n,t,a,s,l,d,r){this.obj[d]&&this.obj[d].destroy(),this.obj.push(d),"center"===e?(this.obj[d]=fe.add.text(i,o,t,{font:a,fill:s,boundsAlignH:"center",boundsAlignV:"middle"}),this.obj[d].setTextBounds(i,o,fe.width,fe.height)):"right"===e?(this.obj[d]=fe.add.text(0,0,t,{font:a,fill:s}),this.obj[d].setTextBounds(0,0,fe.width-48,fe.height),this.obj[d].boundsAlignH="right",this.obj[d].boundsAlignV="bottom",this.obj[d].updateText()):this.obj[d]=fe.add.text(i,o,t,{font:a,fill:s}),this.obj[d].alpha=n,this.obj[d].fixedToCamera=l,r&&this.obj[d].setShadow(1,-1,"rgba(0,0,0,1)",0),"add-point"===e&&(fe.add.tween(this.obj[d]).to({y:o-48},900,Phaser.Easing.Linear.None,!0),fe.time.events.add(600,(function(){fe.add.tween(this.obj[d]).to({alpha:0},300,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this)}),this))},hide:function(e){this.obj[e]&&this.obj[e].destroy()}},image:{obj:[],show:function(e,i,o,n,t,a,s,l,d,r){this.obj[n]&&this.obj[n].destroy(),this.obj.push(n),this.obj[n]="boxTopMenu"===o?fe.add.tileSprite(e,i,fe.width,48,o):fe.add.image(e,i,o),t&&(this.obj[n].alpha=t),a&&(this.obj[n].fixedToCamera=a),s&&l&&this.obj[n].scale.setTo(s,l),d&&(this.obj[n].frame=d),r&&(this.obj[n].alpha=0,fe.add.tween(this.obj[n]).to({alpha:t||1},200,Phaser.Easing.Linear.None,!0))},hide:function(e,i){this.obj[e]&&(i?fe.add.tween(this.obj[e]).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this):this.obj[e].destroy())}},createCenterObject:function(e,i,o,n,t){let a=fe.cache.getImage(n).width,s=fe.cache.getImage(n).height;return"sprite"===t&&(a=fe.cache._cache.image[n].frameWidth,s=fe.cache._cache.image[n].frameHeight),e.create(i*C+32-(a/2+C+8),o*C-(s-32),n)},createLeftObject:function(e,i,o,n,t){let a=fe.cache.getImage(n).height;return"sprite"==t&&(a=fe.cache._cache.image[n].frameHeight),e.create(i*C,o*C-(a-32),n)},checkSpecialBlankBlockElementAndElevatorSound:function(e,i){i&&(0!==i.deltaY||0!==i.deltaX)&&ue.audio.elevator(.1),101===e.index&&(e.collideDown=!0,e.collideUp=!0,e.collideLeft=!0,e.collideRight=!0)},jumpCollision:function(e,i){let o=0;fe.time.now>o&&(e.body.velocity.y=-i,o=fe.time.now+i)},mainElements:{player:{detectionHoldOnObject:function(e,i){return this.obj.position.x>e.position.x-fe.width/i&&this.obj.position.x<e.position.x+fe.width/i&&this.obj.position.y>e.position.y-fe.height/i&&this.obj.position.y<e.position.y+fe.height/i},detectionHoldOnTile:function(e,i,o){return this.obj.position.x>e*C-fe.width/o&&this.obj.position.x<e*C+fe.width/o&&this.obj.position.y>i*C-fe.height/o&&this.obj.position.y<i*C+fe.height/o},countLifes:function(){T("Lifes")?ue.mainElements.player.numberLifes=parseInt(T("Lifes")):ue.mainElements.player.numberLifes=3,T("main-Lifes")?ue.mainElements.player.numberMainLifes=parseInt(T("main-Lifes")):ue.mainElements.player.numberMainLifes=3},countCoins:function(){T("coins")?ue.mainElements.player.numberCoins=parseInt(T("coins")):ue.mainElements.player.numberCoins=0,T("coins-procent-"+X.activeIdLevel)>0?ue.mainElements.player.numberCoinsLevelProcentLastMemory=T("coins-procent-"+X.activeIdLevel):ue.mainElements.player.numberCoinsLevelProcentLastMemory=0,ue.mainElements.player.numberCoinsLevel=0,ue.mainElements.player.numberCoinsLevelProcent=0,ue.mainElements.logs.lengthBonusCoins=0},removeKeepStone:function(){ue.mainElements.stoneBigS.keepStone&&(ue.mainElements.stoneBigS.keepStone=!1,ce=1!==ue.mainElements.player.obj.scale.y?300:200,ue.mainElements.stoneBigS.obj.forEach((function(e){e.keepStone=!1}),this))},lostLife:function(e,i){ue.mainElements.player.removeKeepStone(),e.holdLostLife||(e.holdLostLife=!0,!X.blockedKeys&&ue.mainElements.player.numberLifes>0&&(ue.mainElements.player.numberLifes-=i||1,ue.audio.scream(),16777215!==e.tint&&this.scale("restart")),ue.mainElements.player.numberLifes<1&&(X.blockedKeys||ue.mainElements.player.gameOver||(fe.camera.shake(.02,450,!0,Phaser.Camera.SHAKE_VERTICAL),ue.audio.quake(1),X.blockedKeys=!0,ue.mainElements.player.numberLifes=0,1===ue.mainElements.player.gun.obj.alpha&&(ue.mainElements.player.gun.obj.alpha=0),ue.mainElements.player.obj.animations.play("kill-right"),ue.mainElements.player.numberMainLifes--),0===ue.mainElements.player.numberMainLifes?(ue.mainElements.player.gameOver=!0,fe.time.events.add(1500,(function(){ue.windows.boxMenu.show("game-over")}),this)):fe.time.events.add(1200,(function(){ue.mainElements.player.numberLifes=3,ue.windows.boxTopMenu.f=!1,fe.time.events.add(1e3,(function(){X.blockedKeys=!1,Q="idle"}),this)}),this)),fe.time.events.remove(e.timeoutKill),e.timeoutKill=fe.time.events.add(800,(function(){e.holdLostLife=!1,e.alpha=1,fe.time.events.remove(e.fltTime)}),this),e.fltTime=fe.time.events.loop(50,(function(){e.alpha=.4===e.alpha?1:.4}),this)),ue.windows.boxTopMenu.f=!1},checkIfWasKilledAndOther:function(e,i){me||(e.touchGround&&(fe.time.events.remove(e.touchGroundTime),e.touchGround=!1),"kladki-poziom"===i&&(e.onGround=!0),e.t1=!0,e.onGround||(ue.audio.footStep(),e.onGround=!0),(R.left.isDown||R.right.isDown)&&ue.audio.footStep(),!se||ue.mainElements.player.obj.body.blocked.left||ue.mainElements.player.obj.body.blocked.right||(ue.mainElements.player.obj.body.y-le>250&&(fe.camera.shake(.02,250,!0,Phaser.Camera.SHAKE_VERTICAL),ue.audio.quake(1)),"water"!==i&&ue.mainElements.player.obj.body.y-le>400&&ue.mainElements.player.lostLife(e,3),se=!1))},gun:{obj:!1,startGun:!1,bullets:{obj:!1,restartBullets:function(){!0===this.obj&&(this.obj.z=0,this.obj.destroy(!0)),this.obj=fe.add.group(),this.obj.enableBody=!0,this.obj.createMultiple(9,"bullet"),this.obj.setAll("anchor.x",.5),this.obj.setAll("anchor.y",1)}},visualGun:function(e){this.obj&&(.8===e.obj.scale.y?(this.obj.scale.y=.8,this.obj.scale.x=.8):(this.obj.scale.y=1,this.obj.scale.x=1),16777215===e.obj.tint?this.obj.tint=16777215:this.obj.tint=16776960,e.obj.frame>=6&&e.obj.frame<=11?.8===e.obj.scale.y?(this.obj.scale.x=-.8,this.obj.reset(e.obj.x+31,e.obj.y+27)):(this.obj.scale.x=-1,this.obj.reset(e.obj.x+37,e.obj.y+33)):R.left.isDown?.8===e.obj.scale.y?(this.obj.scale.x=-.8,this.obj.reset(e.obj.x+28,e.obj.y+27)):(this.obj.scale.x=-1,this.obj.reset(e.obj.x+33,e.obj.y+33)):e.obj.frame>=0&&e.obj.frame<=5?.8===e.obj.scale.y?(this.obj.scale.x=.8,this.obj.reset(e.obj.x+8,e.obj.y+27)):(this.obj.scale.x=1,this.obj.reset(e.obj.x+11,e.obj.y+33)):R.right.isDown&&(.8===e.obj.scale.y?(this.obj.scale.x=.8,this.obj.reset(e.obj.x+12,e.obj.y+27)):(this.obj.scale.x=1,this.obj.reset(e.obj.x+15,e.obj.y+33))))},playerGun:function(e){e.gun.obj=fe.add.image(e.obj.x,e.obj.y,"gun"),e.gun.obj.alpha=0},shot:function(e){_.isDown&&ue.mainElements.player.numberLifes&&!X.blockedKeys&&e.countBullets>0&&fe.time.now>e.bulletTime&&(e.bullet=e.gun.bullets.obj.getFirstExists(!1),e.bullet?(e.countBulletsF=!0,e.countBullets--,ue.windows.boxTopMenu.f=!1,ue.audio.shoot(),fe.time.events.remove(e.gun.startGun),0===e.gun.obj.alpha&&(e.gun.obj.alpha=1),e.bullet.body.gravity.y=-700,e.gun.startGun=fe.time.events.add(1e3,(function(){1===e.gun.obj.alpha&&(e.gun.obj.alpha=0,fe.time.events.remove(e.gun.startGun))}),this),e.obj.frame>=6&&e.obj.frame<=11||R.left.isDown?(e.bullet.reset(e.obj.x+10,e.obj.y+42),e.bullet.body.velocity.x=-1400,e.bullet.direction="left"):(e.obj.frame>=0&&e.obj.frame<=5||R.right.isDown)&&(e.bullet.reset(e.obj.x+30,e.obj.y+42),e.bullet.body.velocity.x=1400,e.bullet.direction="right"),e.bulletTime=fe.time.now+200):(e.bullet=0,e.gun.bullets.restartBullets()))}},bullet:!1,bulletTime:0,countBulletsF:!1,countBullets:6,jumpTimer:0,obj:!1,add:function(e,i){0==this.obj&&(this.obj=fe.add.sprite(e*C,i*C-64,"dude"),fe.physics.enable(this.obj,Phaser.Physics.ARCADE),this.obj.body.bounce.y=.3,this.obj.body.collideWorldBounds=!0,this.obj.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add("idle-left",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),this.obj.animations.add("end-level",[38,37,36,37,38],10,!0),this.obj.animations.add("jump-right",[25],20,!0),this.obj.animations.add("jump-left",[26],20,!0),this.obj.animations.add("kill-right",[28,29,30,31,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32],16,!1).onComplete.add((function(){ue.mainElements.player.generateAgain=!0}),this),this.obj.animations.add("left",[18,19,20,21,22,23],20,!0),this.obj.animations.add("right",[12,13,14,15,16,17],20,!0),fe.camera.follow(this.obj,Phaser.Camera.FOLLOW_LOCKON,.1,.1),this.gun.bullets.restartBullets(),T("bullets")?this.countBullets=parseInt(T("bullets")):this.countBullets=6,this.gun.obj=!1,te=e*C,ae=i*C)},velocityNormal:440,velocityWater:200,velocityStone:260,scale:function(e){"increase"===e?(ce=300,this.obj.tint=16776960):("restart"===e&&ue.audio.scaleDown(),ce=200,this.obj.tint=16777215);const i=1!==ue.mainElements.player.obj.scale.y;this.velocityNormal=i?520:440,this.velocityWater=i?290:200,this.velocityStone=i?350:260}},intruders:{obj:!0,id:0,add:function(e,i,o){const n=this.obj.create(e*C,i*C-32,"intruder"+o);n.scale.setTo(0,0),6===o?fe.add.tween(n.scale).to({x:1.18,y:1.23},400,Phaser.Easing.Linear.None,!0):fe.add.tween(n.scale).to({x:1,y:1},400,Phaser.Easing.Linear.None,!0),n.type=o,n.wspStartX=e,n.wspStartY=i,fe.physics.enable(n,Phaser.Physics.ARCADE),n.body.bounce.y=.4,n.body.collideWorldBounds=!0,n.randomSpeed=x([90,110,130]),4===o?(n.animations.add("left",[14,15,16,17,18,19,20,21,22,23,24,25,26,27],n.randomSpeed/8,!0),n.animations.add("right",[0,1,2,3,4,5,6,7,8,9,10,11,12,13],n.randomSpeed/8,!0),n.animations.add("idle-right",[6],6,!0),n.animations.add("idle-left",[20],6,!0),n.animations.add("kill",[28,29,30,31,32,33,34,35],15,!1),n.animations.add("turn-left",[40,37],5,!1),n.animations.add("turn-right",[41,37],5,!1)):5===o||7===o?(n.animations.add("left",[14,15,16,17,18,21,22,23,24,25],n.randomSpeed/8,!0),n.animations.add("right",[0,1,2,3,4,7,8,9,10,11],n.randomSpeed/8,!0),n.animations.add("idle-right",[6],6,!0),n.animations.add("idle-left",[20],6,!0),n.animations.add("kill",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),n.animations.add("turn-left",[40,37],5,!1),n.animations.add("turn-right",[41,37],5,!1)):(n.animations.add("left",[18,19,20,21,22,23],n.randomSpeed/8,!0),n.animations.add("right",[12,13,14,15,16,17],n.randomSpeed/8,!0),n.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),n.animations.add("idle-left",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),n.animations.add("kill",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),n.randomMove=parseInt(2*Math.random())?"intruzRight":"intruzLeft"},jump:function(e,i){let o=0;e.body.onFloor()&&fe.time.now>o&&(e.body.velocity.y=-i,o=fe.time.now+i,5!==e.type&&7!==e.type||(e.jumpToFly=!0,fe.time.events.add(300,(function(){e.jumpToFly=!1}),this)))},collisionIntruz:function(e,i){"intruzRight"===e.randomMove||"intruzLeft"===e.randomMove?e.saveRandom=e.randomMove:e.saveRandom="intruzRight";const o=fe.time.events.loop(1e3/60,(function(){var o;(o=Math.ceil(fe.time.now/100))!=parseFloat(o)||o%2||(e.body.velocity.y=-30),"total-kill"!==i&&(4===e.type&&("intruzRight"==e.randomMove?e.frame=38:"intruzLeft"==e.randomMove&&(e.frame=39)),"intruzRight"!=e.randomMove&&"intruzLeft"!=e.randomMove||(e.randomMove="intruzStop",ue.mainElements.player.obj.body.velocity.y=-480))}),this);"total-kill"===i?(ue.audio.breakBones(.5),ue.audio.explosionIntruder(),4===e.type?(e.animations.add("left",[28,29,30,31,32,33,34,35],15,!1),e.animations.add("right",[28,29,30,31,32,33,34,35],15,!1)):5===e.type||7===e.type?(e.animations.add("left",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),e.animations.add("right",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1)):(e.animations.add("left",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1),e.animations.add("right",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),e.randomSpeed=0,fe.time.events.add(500,(function(){e.killed=!1,fe.time.events.remove(o),e.randomMove="intruzDelete"}),this)):fe.time.events.add(100,(function(){fe.time.events.remove(o),e.randomMove=e.saveRandom}),this),ue.mainElements.player.obj.body.overlapY=0},collisionBack:function(e){e.checkPosition||(e.checkPosition=e.body.position.x,fe.time.events.add(600,(function(){Math.abs(e.checkPosition-e.body.position.x)<2&&("intruzRight"===e.randomMove?e.randomMove="intruzLeft":e.randomMove="intruzRight"),e.checkPosition=!1}),this))}},coins:{add:function(e,i){const o=this.obj.create(e*C,i*C,"coin");o.animations.add("run",[0,1,2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0]),o.animations.play("run",18,!0),o.body.allowGravity=!1}},invisibleLogs:{add:function(e,i){const o=this.obj.create(e*C,i*C,"log");o.frame=11,fe.physics.enable(o,Phaser.Physics.ARCADE),o.scale.setTo(3,1),o.body.allowGravity=!1,o.body.collideWorldBounds=!0,o.body.immovable=!0}},logs:{lengthBonusCoins:0,add:function(e,i,o,n,t){const a=this.obj.create(e*C,i*C,n);if(a.frame=0,fe.physics.enable(a,Phaser.Physics.ARCADE),a.body.allowGravity=!1,a.body.collideWorldBounds=!0,a.body.immovable=!0,o&&ue.audio.bingo(),"coin"===o)a.coin=!0;else if("surprise"===o)if("log"===n)switch(E(1,4)){case 1:a.surprise=1;break;case 2:a.surprise=2;break;case 3:a.surprise=3;break;case 4:a.surprise=5}else if("stone"===n)switch(E(1,2)){case 1:a.surprise=1;break;case 2:a.surprise=2}},destruction:function(e){if(!e.onlynOne){const i=e.x/C,o=e.y/C-3;e.body.velocity.y=-330,"left"===Q?e.body.velocity.x=-130:"right"===Q&&(e.body.velocity.x=130),ue.audio.breakGround(),e.body.checkCollision.up=!1,e.body.checkCollision.down=!1,e.body.checkCollision.left=!1,e.body.checkCollision.right=!1,fe.time.events.add(50,(function(){e.body.allowGravity=!0}),this),e.animations.add("run"),fe.time.events.add(300,(function(){e.animations.play("run",20,!1)}),this),e.coin?fe.time.events.add(200,(function(){ue.mainElements.coins.add(i,o)}),this):e.surprise&&fe.time.events.add(200,(function(){switch(e.surprise){case 1:ue.mainElements.bulletsGuns.add(i,o);break;case 2:ue.mainElements.LifeSingleS.add(i,o);break;case 3:ue.mainElements.intruders.add(i,o,3);break;case 4:ue.mainElements.coins.add(i,o);break;case 5:ue.mainElements.intruders.add(i,o,5)}}),this),fe.time.events.add(900,(function(){e.kill()}),this),e.onlynOne=!0}}},Lifes:{add:function(e,i){const o=this.obj.create(e*C,i*C,"Life");o.animations.add("run",[2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1]),o.animations.play("run",18,!0),o.body.allowGravity=!1}},LifeSingleS:{add:function(e,i){const o=this.obj.create(e*C,i*C,"Life2");o.animations.add("run",[4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1,2,3]),o.animations.play("run",18,!0),o.body.allowGravity=!1}},bulletsGuns:{add:function(e,i){const o=this.obj.create(e*C-5,i*C-5,"bullets_gun");o.animations.add("run",[8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6,7,8]),o.animations.play("run",18,!0),o.body.allowGravity=!1}},keys:{add:function(e,i){const o=this.obj.create(e*C,i*C,"key");o.animations.add("run",[7,8,8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6]),o.animations.play("run",18,!0),o.body.allowGravity=!1}},locks:{add:function(e,i,o){const n=this.obj.create(e*C+(o?C:0),i*C,"lock");o&&(n.scale.x*=-1),n.body.allowGravity=!1}},doors:{add:function(e,i,o){const n=ue.createCenterObject(this.obj,e,i,"door");fe.physics.enable(n,Phaser.Physics.ARCADE),n.body.allowGravity=!1,n.body.collideWorldBounds=!0,n.body.immovable=!0,o&&(n.zero=!0,n.body.checkCollision.none=!0,n.scale.setTo(0,0))}},insideHouses0:{insideHouse0:[],add:function(e,i,o){this.insideHouse0[o]=ue.createCenterObject(this.obj,e,i,"building4"),fe.physics.enable(this.insideHouse0[o],Phaser.Physics.ARCADE),this.insideHouse0[o].body.allowGravity=!1,this.insideHouse0[o].randomString=o},hide:function(e){this.insideHouse0[e]&&this.insideHouse0[e].destroy()}},insideHouses1:{insideHouse0:[],insideHouse1:[],insideHouse2:[],insideHouse3:[],insideHouse4:[],add:function(e,i,o){this.insideHouse0[o]=ue.createCenterObject(this.obj,e,i,"inside-house-2"),fe.physics.enable(this.insideHouse0[o],Phaser.Physics.ARCADE),this.insideHouse0[o].body.allowGravity=!1,this.insideHouse0[o].body.checkCollision.up=!1,this.insideHouse0[o].body.checkCollision.down=!1,this.insideHouse0[o].body.checkCollision.right=!1,this.insideHouse0[o].body.checkCollision.left=!1,this.insideHouse1[o]=ue.createCenterObject(this.obj,e-5,i,"inside-house-1"),fe.physics.enable(this.insideHouse1[o],Phaser.Physics.ARCADE),this.insideHouse1[o].body.allowGravity=!1,this.insideHouse1[o].body.collideWorldBounds=!0,this.insideHouse1[o].body.immovable=!0,this.insideHouse1[o].alpha=0,this.insideHouse2[o]=ue.createCenterObject(this.obj,e+5,i,"inside-house-1"),fe.physics.enable(this.insideHouse2[o],Phaser.Physics.ARCADE),this.insideHouse2[o].body.allowGravity=!1,this.insideHouse2[o].body.collideWorldBounds=!0,this.insideHouse2[o].body.immovable=!0,this.insideHouse2[o].alpha=0,this.insideHouse3[o]=ue.createCenterObject(this.obj,e,i+.2,"inside-house-3"),fe.physics.enable(this.insideHouse3[o],Phaser.Physics.ARCADE),this.insideHouse3[o].body.allowGravity=!1,this.insideHouse3[o].body.collideWorldBounds=!0,this.insideHouse3[o].body.immovable=!0,this.insideHouse3[o].alpha=0,this.insideHouse4[o]=ue.createCenterObject(this.obj,e,i-7,"inside-house-3"),fe.physics.enable(this.insideHouse4[o],Phaser.Physics.ARCADE),this.insideHouse4[o].body.allowGravity=!1,this.insideHouse4[o].body.collideWorldBounds=!0,this.insideHouse4[o].body.immovable=!0,this.insideHouse4[o].alpha=0},hide:function(e){j(this.insideHouse0[e])&&this.insideHouse0[e].destroy(),j(this.insideHouse1[e])&&this.insideHouse1[e].destroy(),j(this.insideHouse2[e])&&this.insideHouse2[e].destroy(),j(this.insideHouse3[e])&&this.insideHouse3[e].destroy(),j(this.insideHouse4[e])&&this.insideHouse4[e].destroy()}},doorsHorizontal:{add:function(e,i,o){const n=ue.createCenterObject(this.obj,e,i,"door-horizontal");fe.physics.enable(n,Phaser.Physics.ARCADE),n.body.allowGravity=!1,n.body.collideWorldBounds=!0,n.body.immovable=!0,o&&(n.zero=!0,n.body.checkCollision.none=!0,n.scale.setTo(0,0))}},openDoor:function(e){let i=0;ue.mainElements.doorsHorizontal.obj.forEach((function(e){e.index=i,i++}),this);let o=0;ue.mainElements.doors.obj.forEach((function(e){e.index=o,o++}),this);const n=[];ue.mainElements.doors.obj.forEach((function(i){n.push(fe.physics.arcade.distanceBetween(e,i))}),this);const t=Math.min.apply(null,n),a=[];ue.mainElements.doorsHorizontal.obj.forEach((function(i){a.push(fe.physics.arcade.distanceBetween(e,i))}),this);const s=Math.min.apply(null,a);ue.mainElements.doors.obj.forEach((function(i){if(j(i)&&!i.deactive&&t===fe.physics.arcade.distanceBetween(e,i)&&j(i)&&!i.deactive&&!i.zero){i.deactive=!0,i.body.velocity.y=-50,ue.audio.doorLift();const e=Math.ceil(i.y/C),o=fe.time.events.loop(100,(function(){Math.ceil(i.y/C)<=e-10&&(i.body.velocity.y=0,fe.time.events.remove(o))}),this)}}),this),ue.mainElements.doorsHorizontal.obj.forEach((function(i){s===fe.physics.arcade.distanceBetween(e,i)&&j(i)&&!i.deactive&&(i.zero||(i.deactive=!0,ue.mainElements.explosion.add(i.x/C,i.y/C),i.kill()))}),this)},cacti:{add:function(e,i){ue.createCenterObject(this.obj,e,i,"cactus").body.allowGravity=!1}},grassLeft:{add:function(e,i){ue.createLeftObject(this.obj,e,i,"grassLr").body.allowGravity=!1}},grassAnim:{add:function(e,i,o){const n=ue.createCenterObject(this.obj,e,i,"grass-lr-anim","sprite");n.animations.add("run",[0,1,2,3,4,5,5,4,3,2,1,0]),n.animations.play("run",8,!0),"right"===o&&(n.scale.x*=-1,n.anchor.setTo(1,0)),n.body.allowGravity=!1}},trees:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i,"tree","sprite");o.animations.add("run"),o.animations.play("run",8,!0),o.body.allowGravity=!1}},cactusAnimateS:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i,"cactus-animate","sprite");o.animations.add("run",[0,1,2,3,4,3,2,1,0]),o.animations.play("run",10,!0),o.body.allowGravity=!1,o.body.width=39,o.body.height=70,o.body.offset.y=11,o.body.offset.x=11}},grassRight:{add:function(e,i){const o=ue.createLeftObject(this.obj,e,i,"grassLr");o.body.allowGravity=!1,o.scale.x*=-1}},explosion:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i-1,"explosion","sprite");o.animations.add("run").onComplete.add((function(e){e.kill()}),this),o.animations.play("run",16,!1),o.body.allowGravity=!1,ue.audio.explosion(.5)}},stoneBigExplosion:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i+1,"stone-big-explosion","sprite");o.animations.add("run").onComplete.add((function(e){e.kill()}),this),o.animations.play("run",40,!1),o.body.allowGravity=!1}},stoneBigS:{add:function(e,i){const o=ue.createLeftObject(this.obj,e,i,"stone-big");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.allowGravity=!0,o.body.height=40,o.body.width=40,o.anchor.setTo(.5,.5),o.angle=E(0,180)}},caves:{add:function(e,i){this.obj.create(e*C+32,i*C-240,"cave").body.allowGravity=!1}},fogSingleS:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i,"fog-single","sprite");o.animations.add("run"),o.animations.play("run",9,!0),o.alpha=.8,o.body.allowGravity=!1}},buildings:{add:function(e,i,o){ue.createCenterObject(this.obj,e,i,o).body.allowGravity=!1}},blackboards:{add:function(e,i,o){ue.createCenterObject(this.obj,e,i,o).body.allowGravity=!1}},mines:{add:function(e,i){const o=ue.createCenterObject(this.obj,e+6.5,i,"mine-part-2","sprite");o.animations.add("run",[0,1,2,3,4,5,4,3,2,1,0,6,7,8,9,10,9,8,7,6]),o.animations.play("run",12,!0),o.body.allowGravity=!1,ue.createCenterObject(this.obj,e-.2,i,"mine-part-1").body.allowGravity=!1}},waters:{add:function(e,i,o){const n=ue.createLeftObject(this.obj,e,i,o||"water","sprite");n.animations.add("run"),n.animations.play("run",16,!0),n.body.allowGravity=!1,n.alpha=.7,"water-red"===o&&(n.type="water-red")}},waterStaticS:{add:function(e,i,o,n){let t;t="center"===n?ue.createCenterObject(this.obj,e,i,o||"water","sprite"):ue.createLeftObject(this.obj,e,i,o||"water","sprite"),t.body.allowGravity=!1,t.alpha=.7,"water-red"===o&&(t.type="water-red")}},firebs:{add:function(e,i,o,n){const t=ue.createLeftObject(this.obj,e,i,n?"fireb2":"fireb","sprite");n?t.typeFire=!0:(t.animations.add("run1",[0,1,2,1]),t.animations.add("run2",[3,4,5,4])),t.body.allowGravity=!1,t.alpha=0,t.randomStart=o}},splashs:{add:function(e,i,o,n){const t=ue.createCenterObject(this.obj,e,i,o||"splash","sprite");t.animations.add("run").onComplete.add((function(e){e.kill()}),this),t.animations.play("run",30,!1),t.body.allowGravity=!1,t.alpha=.6,"blood"===n?(t.position.y=t.position.y-32,t.position.x=t.position.x+C,t.scale.setTo(.8,.8),t.alpha=.9):ue.audio.splash()}},endLevelS:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i,"end_level","sprite");o.animations.add("run"),o.animations.play("run",17,!0),o.body.allowGravity=!1}},saveLevelS:{add:function(e,i,o){const n=ue.createCenterObject(this.obj,e,i,"save_level","sprite");let t,a;"<-"===o?(t=[26,25,24,23,22,22,23,24,25,26,26,21,20,19,18,18,19,20,21,26],a=[35,34,33,32,31,31,32,33,34,35,35,30,29,28,27,27,28,29,30,35]):(t=[0,1,2,3,4,4,3,2,1,0,0,5,6,7,8,8,7,6,5,0],a=[9,10,11,12,13,13,12,11,10,9,9,14,15,16,17,17,16,15,14,9]),n.animations.add("run1",t),n.animations.add("run2",a),n.animations.play("run1",17,!0),n.body.allowGravity=!1}},fire:{fireAnimation:function(e,i,o,n){const t=e.obj.create(i,o,n);t.animations.add("run"),t.animations.play("run",E(16,20),!0),t.alpha=.8,t.body.allowGravity=!1},fireUpS:{add:function(e,i){ue.mainElements.fire.fireAnimation(this,e*C-4,i*C-8,"fire_up")}},fireUpNormalS:{add:function(e,i){ue.mainElements.fire.fireAnimation(this,e*C-4,i*C-24,"fire_up_normal")}},fireDownS:{add:function(e,i){ue.mainElements.fire.fireAnimation(this,e*C-4,i*C,"fire_down")}},fireLeftS:{add:function(e,i){ue.mainElements.fire.fireAnimation(this,e*C-8,i*C-4,"fire_left")}},fireRightS:{add:function(e,i){ue.mainElements.fire.fireAnimation(this,e*C,i*C-4,"fire_right")}}},windmills:{add:function(e,i){const o=ue.createCenterObject(this.obj,e,i,"windmill","sprite");o.animations.add("run"),o.animations.play("run",20,!0),o.body.allowGravity=!1}},windmillNewS:{add:function(e,i){ue.createCenterObject(this.obj2,e,i,"windmill_2_new").body.allowGravity=!1;const o=this.obj1.create(e*C+9,i*C-240,"windmill_1_new");o.anchor.setTo(.5,.5),o.body.allowGravity=!1}},kladki:{kladkaPlayerBounceReset:!0,poziom:{add:function(e,i){const o=this.obj.create(e*C,i*C,"kladka-short");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0}},run:{startCollision:function(e,i){e.lock||(e.back?"pionTopBack"===i||"pionTop"===i?e.body.velocity.y=-150:"pionBottomBack"!==i&&"pionBottom"!==i||(e.body.velocity.y=150):"pionTopBack"===i||"pionTop"===i?e.body.velocity.y=150:"pionBottomBack"!==i&&"pionBottom"!==i||(e.body.velocity.y=-150)),e.isUp=!0,ue.mainElements.player.obj.body.bounce.y=0,fe.time.events.add(300,(function(){e.isUp=!1}),this)},endCollision:function(e,i){e.lock=!0,fe.time.events.remove(e.resetart1),e.resetart1=fe.time.events.add(2500,(function(){"pionTopBack"===i?e.back||(e.body.velocity.y=-150):"pionBottomBack"===i&&(e.back||(e.body.velocity.y=150)),e.back=!e.back,e.lock=!1}),this)}},pionTopBack:{add:function(e,i){const o=this.obj.create(e*C,i*C,"kladka-short");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionBottomBack:{add:function(e,i){const o=this.obj.create(e*C,i*C,"kladka-short");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionTop:{add:function(e,i){const o=this.obj.create(e*C,i*C,"kladka-short");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}},pionBottom:{add:function(e,i){const o=this.obj.create(e*C,i*C,"kladka-short");fe.physics.enable(o,Phaser.Physics.ARCADE),o.body.collideWorldBounds=!0,o.body.allowGravity=!1,o.body.immovable=!0,o.body.orginalY=i}}}},intruzCollisonBack:function(e){let i=0;e.body.onFloor()&&fe.time.now>i&&(e.body.velocity.y=-350,i=fe.time.now+350),0!==i&&("intruzLeft"==e.randomMove?e.randomMove="intruzRight":"intruzRight"==e.randomMove&&(e.randomMove="intruzLeft"))},intruzCollisonNoBack:function(e){let i=0;e.body.onFloor()&&fe.time.now>i&&(e.body.velocity.y=-350,i=fe.time.now+350)},addPoint:function(e,i,o,n){ue.text.show("add-point",e,i,1,n,"700 15px Arial","#ded4b8",!1,o,!0)}},be=(e,i,o)=>{X.readyLoad=!1,X.blockedKeys=!1,"continuation"===e&&(X.name="level"+O,X.activeIdLevel=parseInt(O)),fe.physics.startSystem(Phaser.Physics.ARCADE),me=!1,Object.keys(fe.cache._cacheMap[7]).length===X.activeIdLevel&&(me=!0),ue.preloader.add(13,14,i,o),q=fe.time.create(!1),oe=0,q.loop(1e3,(function(){X.blockedKeys||oe++}),void 0),q.start(),fe.time.advancedTiming=!0,fe.time.desiredFps=window.innerWidth<800?40:50,ue.mainElements.player.removeKeepStone(),$=[],re=0,ue.buttons.levels.hide(),ue.text.hide("logoText"),H.destroy(),ue.buttons.openBoxMenu.hide(),ue.mainElements.player.countLifes(),ue.mainElements.player.countCoins();let n=300;me&&(n=i?2e3:0),fe.time.events.add(n,(function(){if(I=fe.add.tilemap(X.name),I.addTilesetImage("tiles-1"),X.blockedKeys=!1,I.setCollisionByExclusion([102,155,205,206,207,201,202,203,301,302,303,304,305,306,401,402,403,404,405,406,407,416,417,451,452,453,454,455,456,457,459,552,651,652,653,654,655,656,657,658,659,660,661,662,701,702,703,704,705,706,707,708,751,752,753,754,755,756,757,758,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,851,852,853,854,855,856,901,902,903,904,905,906,209,210,211,212,259,260,261,262,309,310,311,312,1013,1014,1015,1668,1619,1601,1651,1712,1762,1812,1813,1863,1915,1957,1965,2016,2067,2018,2169,2220,2221,2271,2322,2323,2373,2374,2375,2376]),M[X.activeIdLevel].backgroundColor?X.backgroundColor=M[X.activeIdLevel].backgroundColor:X.backgroundColor="#4488AA",ue.bgSet(X.backgroundColor),M[X.activeIdLevel].background){let e=!1;Object.keys(fe.cache._cacheMap[7]).length===X.activeIdLevel&&(e=!0),X.backgroundLevel=M[X.activeIdLevel].background,F=M[X.activeIdLevel].backgroundRepeatX?fe.add.tileSprite(0,e?0:fe.height-fe.cache.getImage(X.backgroundLevel).height,2*I.widthInPixels,fe.cache.getImage(X.backgroundLevel).height,X.backgroundLevel):fe.add.sprite(0,e?0:fe.height-fe.cache.getImage(X.backgroundLevel).height,X.backgroundLevel),F.fixedToCamera=!e,M[X.activeIdLevel].backgroundSecond&&(N=fe.add.sprite(0,fe.height-fe.cache.getImage(M[X.activeIdLevel].backgroundSecond).height,M[X.activeIdLevel].backgroundSecond),N.width=fe.cache.getImage(M[X.activeIdLevel].backgroundSecond).width,N.height=fe.cache.getImage(M[X.activeIdLevel].backgroundSecond).height,N.fixedToCamera=!0),M[X.activeIdLevel].parallax?X.backgroundParallax=!0:X.backgroundParallax=!1}else X.backgroundLevel="none";if(M[X.activeIdLevel].fog){const e=64,i=15.625,o=M[X.activeIdLevel].fogPositionY?M[X.activeIdLevel].fogPositionY:0;Y=fe.add.tileSprite(-I.width*C,(I.height-i)*C-e-o,2*I.width*C,i*C,M[X.activeIdLevel].fog)}if(M[X.activeIdLevel].positionGround){let e=96;Number.isInteger(M[X.activeIdLevel].positionGround)&&(e=M[X.activeIdLevel].positionGround),K=fe.add.tileSprite(-I.width*C,I.height*C-e-1,2*I.width*C,I.height*C,"ground")}fe.physics.arcade.gravity.y=750,R=fe.input.keyboard.createCursorKeys(),D=fe.input.keyboard.addKey(Phaser.Keyboard.UP),_=fe.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),z=I.createLayer("levels-deep"),z.resizeWorld(),ue.mainElements.windmills.obj=fe.add.group(),ue.mainElements.windmills.obj.enableBody=!0,ue.mainElements.windmillNewS.obj2=fe.add.group(),ue.mainElements.windmillNewS.obj2.enableBody=!0,ue.mainElements.windmillNewS.obj1=fe.add.group(),ue.mainElements.windmillNewS.obj1.enableBody=!0,ue.mainElements.insideHouses0.obj=fe.add.group(),ue.mainElements.insideHouses0.obj.enableBody=!0,ue.mainElements.insideHouses1.obj=fe.add.group(),ue.mainElements.insideHouses1.obj.enableBody=!0,ue.mainElements.caves.obj=fe.add.group(),ue.mainElements.caves.obj.enableBody=!0,ue.mainElements.buildings.obj=fe.add.group(),ue.mainElements.buildings.obj.enableBody=!0,ue.mainElements.blackboards.obj=fe.add.group(),ue.mainElements.blackboards.obj.enableBody=!0,ue.mainElements.mines.obj=fe.add.group(),ue.mainElements.mines.obj.enableBody=!0,ue.mainElements.cactusAnimateS.obj=fe.add.group(),ue.mainElements.cactusAnimateS.obj.enableBody=!0,ue.mainElements.grassLeft.obj=fe.add.group(),ue.mainElements.grassLeft.obj.enableBody=!0,ue.mainElements.grassRight.obj=fe.add.group(),ue.mainElements.grassRight.obj.enableBody=!0,ue.mainElements.grassAnim.obj=fe.add.group(),ue.mainElements.grassAnim.obj.enableBody=!0,ue.mainElements.trees.obj=fe.add.group(),ue.mainElements.trees.obj.enableBody=!0,ue.mainElements.keys.obj=fe.add.group(),ue.mainElements.keys.obj.enableBody=!0,ue.mainElements.locks.obj=fe.add.group(),ue.mainElements.locks.obj.enableBody=!0,ue.mainElements.doors.obj=fe.add.group(),ue.mainElements.doors.obj.enableBody=!0,ue.mainElements.doorsHorizontal.obj=fe.add.group(),ue.mainElements.doorsHorizontal.obj.enableBody=!0,ue.mainElements.fire.fireUpS.obj=fe.add.group(),ue.mainElements.fire.fireUpS.obj.enableBody=!0,ue.mainElements.fire.fireUpNormalS.obj=fe.add.group(),ue.mainElements.fire.fireUpNormalS.obj.enableBody=!0,ue.mainElements.fire.fireDownS.obj=fe.add.group(),ue.mainElements.fire.fireDownS.obj.enableBody=!0,ue.mainElements.fire.fireLeftS.obj=fe.add.group(),ue.mainElements.fire.fireLeftS.obj.enableBody=!0,ue.mainElements.fire.fireRightS.obj=fe.add.group(),ue.mainElements.fire.fireRightS.obj.enableBody=!0,ue.mainElements.bulletsGuns.obj=fe.add.group(),ue.mainElements.bulletsGuns.obj.enableBody=!0,ue.mainElements.player.obj=!1,W=I.createLayer("levels-objects"),W.resizeWorld(),ue.mainElements.stoneBigS.obj=fe.add.group(),ue.mainElements.stoneBigS.obj.enableBody=!0,G=I.createLayer("levels-main"),G.resizeWorld(),ue.mainElements.explosion.obj=fe.add.group(),ue.mainElements.explosion.obj.enableBody=!0,ue.mainElements.stoneBigExplosion.obj=fe.add.group(),ue.mainElements.stoneBigExplosion.obj.enableBody=!0,I.objects["just-objects"]&&I.objects["just-objects"].forEach((function(e){461===e.gid&&ue.mainElements.grassAnim.add(e.x/C,e.y/C),462===e.gid&&ue.mainElements.grassAnim.add(e.x/C,e.y/C,"right"),13===e.gid&&ue.mainElements.stoneBigS.add(e.x/C,e.y/C),111===e.gid&&ue.mainElements.fire.fireUpS.add(e.x/C,e.y/C),117===e.gid&&ue.mainElements.fire.fireUpNormalS.add(e.x/C,e.y/C),110===e.gid&&ue.mainElements.fire.fireDownS.add(e.x/C,e.y/C),109===e.gid&&ue.mainElements.fire.fireLeftS.add(e.x/C,e.y/C),112===e.gid&&ue.mainElements.fire.fireRightS.add(e.x/C,e.y/C)}));for(let e=0;e<I.width;e++)for(let i=0;i<I.height;i++)51==I.getTile(e,i,G,!0).index&&(I.removeTile(e,i,G),I.putTile(101,e,i,G)),1==I.getTile(e,i,W,!0).index&&(ue.mainElements.caves.add(e,i),I.removeTile(e,i,W)),522==I.getTile(e,i,W,!0).index&&(ue.mainElements.trees.add(e,i),I.removeTile(e,i,W)),52==I.getTile(e,i,W,!0).index&&(ue.mainElements.blackboards.add(e,i,"b-sheriff"),I.removeTile(e,i,W)),53==I.getTile(e,i,W,!0).index&&(ue.mainElements.blackboards.add(e,i,"b-saloon"),I.removeTile(e,i,W)),54==I.getTile(e,i,W,!0).index&&(ue.mainElements.blackboards.add(e,i,"b-store"),I.removeTile(e,i,W)),2==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building1"),I.removeTile(e,i,W)),4==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building2"),I.removeTile(e,i,W)),7==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building3"),I.removeTile(e,i,W)),8==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building4"),I.removeTile(e,i,W)),5==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building5"),I.removeTile(e,i,W)),9==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building6"),I.removeTile(e,i,W)),10==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building7"),I.removeTile(e,i,W)),11==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building8"),I.removeTile(e,i,W)),12==I.getTile(e,i,W,!0).index&&(ue.mainElements.buildings.add(e,i,"building9"),I.removeTile(e,i,W)),6==I.getTile(e,i,W,!0).index&&(ue.mainElements.mines.add(e,i),I.removeTile(e,i,W)),504==I.getTile(e,i,W,!0).index&&(ue.mainElements.cactusAnimateS.add(e,i),I.removeTile(e,i,W)),511==I.getTile(e,i,W,!0).index&&(ue.mainElements.grassLeft.add(e,i),I.removeTile(e,i,W)),512==I.getTile(e,i,W,!0).index&&(ue.mainElements.grassRight.add(e,i),I.removeTile(e,i,W)),461==I.getTile(e,i,W,!0).index&&(ue.mainElements.grassAnim.add(e,i),I.removeTile(e,i,W)),462==I.getTile(e,i,W,!0).index&&(ue.mainElements.grassAnim.add(e,i,"right"),I.removeTile(e,i,W)),515==I.getTile(e,i,W,!0).index&&(ue.mainElements.keys.add(e,i),I.removeTile(e,i,W)),516==I.getTile(e,i,W,!0).index&&(ue.mainElements.doors.add(e,i,466===I.getTile(e+1,i,W,!0).index),I.removeTile(e,i,W)),466==I.getTile(e,i,W,!0).index&&(ue.mainElements.doorsHorizontal.add(e,i,516===I.getTile(e+1,i,W,!0).index),I.removeTile(e,i,W)),517==I.getTile(e,i,W,!0).index&&(ue.mainElements.locks.add(e,i),I.removeTile(e,i,W)),467==I.getTile(e,i,W,!0).index&&(ue.mainElements.locks.add(e,i,!0),I.removeTile(e,i,W)),111==I.getTile(e,i,W,!0).index&&(ue.mainElements.fire.fireUpS.add(e,i),I.removeTile(e,i,W)),117==I.getTile(e,i,W,!0).index&&(ue.mainElements.fire.fireUpNormalS.add(e,i),I.removeTile(e,i,W)),110==I.getTile(e,i,W,!0).index&&(ue.mainElements.fire.fireDownS.add(e,i),I.removeTile(e,i,W)),109==I.getTile(e,i,W,!0).index&&(ue.mainElements.fire.fireLeftS.add(e,i),I.removeTile(e,i,W)),112==I.getTile(e,i,W,!0).index&&(ue.mainElements.fire.fireRightS.add(e,i),I.removeTile(e,i,W)),3==I.getTile(e,i,W,!0).index&&(ue.mainElements.windmillNewS.add(e,i),I.removeTile(e,i,W)),552!==I.getTile(e,i,W,!0).index&&552!==I.getTile(e,i,z,!0).index&&552!==I.getTile(e,i,G,!0).index||$.push(e*C+","+i*C);ue.mainElements.saveLevelS.obj=fe.add.group(),ue.mainElements.saveLevelS.obj.enableBody=!0,ue.mainElements.endLevelS.obj=fe.add.group(),ue.mainElements.endLevelS.obj.enableBody=!0,ue.mainElements.logs.obj=fe.add.group(),ue.mainElements.logs.obj.enableBody=!0,ue.mainElements.invisibleLogs.obj=fe.add.group(),ue.mainElements.invisibleLogs.obj.enableBody=!0,ue.mainElements.Lifes.obj=fe.add.group(),ue.mainElements.Lifes.obj.enableBody=!0,ue.mainElements.LifeSingleS.obj=fe.add.group(),ue.mainElements.LifeSingleS.obj.enableBody=!0,ue.mainElements.coins.obj=fe.add.group(),ue.mainElements.coins.obj.enableBody=!0,ue.mainElements.kladki.poziom.obj=fe.add.group(),ue.mainElements.kladki.poziom.obj.enableBody=!0,ue.mainElements.kladki.pionTopBack.obj=fe.add.group(),ue.mainElements.kladki.pionTopBack.obj.enableBody=!0,ue.mainElements.kladki.pionBottomBack.obj=fe.add.group(),ue.mainElements.kladki.pionBottomBack.obj.enableBody=!0,ue.mainElements.kladki.pionTop.obj=fe.add.group(),ue.mainElements.kladki.pionTop.obj.enableBody=!0,ue.mainElements.kladki.pionBottom.obj=fe.add.group(),ue.mainElements.kladki.pionBottom.obj.enableBody=!0;for(let e=0;e<I.width;e++)for(let i=0;i<I.height;i++){if(602==I.getTile(e,i,W,!0).index&&(ue.mainElements.saveLevelS.add(e,i,"->"),I.removeTile(e,i,W)),603==I.getTile(e,i,W,!0).index&&(ue.mainElements.saveLevelS.add(e,i,"<-"),I.removeTile(e,i,W)),601==I.getTile(e,i,W,!0).index&&(ue.mainElements.endLevelS.add(e,i),I.removeTile(e,i,W)),510==I.getTile(e,i,W,!0).index&&(ue.mainElements.Lifes.add(e,i),I.removeTile(e,i,W)),460==I.getTile(e,i,W,!0).index&&(ue.mainElements.LifeSingleS.add(e,i),I.removeTile(e,i,W)),502==I.getTile(e,i,W,!0).index&&(ue.mainElements.coins.add(e,i),I.removeTile(e,i,W)),513==I.getTile(e,i,W,!0).index&&(I.removeTile(e,i,W),I.putTile(463,e,i,G)),267==I.getTile(e,i,W,!0).index&&(I.removeTile(e,i,W),I.putTile(217,e,i,G)),414==I.getTile(e,i,W,!0).index&&(ue.mainElements.invisibleLogs.add(e,i),I.removeTile(e,i,W)),514==I.getTile(e,i,W,!0).index&&(ue.mainElements.logs.lengthBonusCoins++,I.removeTile(e,i,W),I.putTile(564,e,i,G)),464==I.getTile(e,i,W,!0).index&&(I.removeTile(e,i,W),I.putTile(465,e,i,G)),268==I.getTile(e,i,W,!0).index&&(ue.mainElements.logs.lengthBonusCoins++,I.removeTile(e,i,W),I.putTile(218,e,i,G)),269==I.getTile(e,i,W,!0).index&&(I.removeTile(e,i,W),I.putTile(219,e,i,G)),13==I.getTile(e,i,W,!0).index&&(ue.mainElements.stoneBigS.add(e,i),I.removeTile(e,i,W)),14==I.getTile(e,i,W,!0).index){let o=Math.random().toString(36).substring(7);ue.mainElements.insideHouses0.add(e,i,o),I.removeTile(e,i,W)}503==I.getTile(e,i,W,!0).index&&(ue.mainElements.bulletsGuns.add(e,i),I.removeTile(e,i,W)),505==I.getTile(e,i,W,!0).index&&(ue.mainElements.kladki.poziom.add(e,i),I.removeTile(e,i,W)),506==I.getTile(e,i,W,!0).index&&(ue.mainElements.kladki.pionTopBack.add(e,i),I.removeTile(e,i,W)),509==I.getTile(e,i,W,!0).index&&(ue.mainElements.kladki.pionBottomBack.add(e,i),I.removeTile(e,i,W)),507==I.getTile(e,i,W,!0).index&&(ue.mainElements.kladki.pionTop.add(e,i),I.removeTile(e,i,W)),508==I.getTile(e,i,W,!0).index&&(ue.mainElements.kladki.pionBottom.add(e,i),I.removeTile(e,i,W)),501==I.getTile(e,i,W,!0).index&&(ue.mainElements.player.add(e,i),ue.mainElements.player.gun.playerGun(ue.mainElements.player),I.removeTile(e,i,W))}ue.mainElements.intruders.obj=fe.add.group(),ue.mainElements.intruders.obj.enableBody=!0,ue.mainElements.firebs.obj=fe.add.group(),ue.mainElements.firebs.obj.enableBody=!0,ue.mainElements.waters.obj=fe.add.group(),ue.mainElements.waters.obj.enableBody=!0,ue.mainElements.waterStaticS.obj=fe.add.group(),ue.mainElements.waterStaticS.obj.enableBody=!0,ue.mainElements.splashs.obj=fe.add.group(),ue.mainElements.splashs.obj.enableBody=!0,ue.mainElements.fogSingleS.obj=fe.add.group(),ue.mainElements.fogSingleS.obj.enableBody=!0;for(let e=0;e<I.width;e++)for(let i=0;i<I.height;i++)551==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,1),I.removeTile(e,i,W)),553==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,2),I.removeTile(e,i,W)),554==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,3),I.removeTile(e,i,W)),555==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,4),I.removeTile(e,i,W)),556==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,5),I.removeTile(e,i,W)),557==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,6),I.removeTile(e,i,W)),558==I.getTile(e,i,W,!0).index&&(ue.mainElements.intruders.add(e,i,7),I.removeTile(e,i,W)),520==I.getTile(e,i,W,!0).index&&(ue.mainElements.firebs.add(e,i,E(1,6)),I.removeTile(e,i,W)),521==I.getTile(e,i,W,!0).index&&(ue.mainElements.firebs.add(e,i,E(1,6),!0),I.removeTile(e,i,W)),518==I.getTile(e,i,W,!0).index&&(ue.mainElements.waters.add(e,i),I.removeTile(e,i,W)),519==I.getTile(e,i,W,!0).index&&(ue.mainElements.waters.add(e,i,"water-red"),I.removeTile(e,i,W)),468===I.getTile(e,i,W,!0).index&&(ue.mainElements.waterStaticS.add(e,i,!1,"left"),I.removeTile(e,i,W)),418===I.getTile(e,i,W,!0).index&&(ue.mainElements.waterStaticS.add(e,i,!1,"center"),I.removeTile(e,i,W)),62===I.getTile(e,i,W,!0).index&&(ue.mainElements.fogSingleS.add(e,i),I.removeTile(e,i,W));ue.mainElements.logs.lengthBonusCoins||(ue.mainElements.logs.lengthBonusCoins=0),de=ue.mainElements.coins.obj.children.length+ue.mainElements.logs.lengthBonusCoins,Z.main=!0,ue.audio.bg.play(.15,M[X.activeIdLevel].bgAudio),fe.load.start()}),void 0),ue.buttons.play.hide(),ue.buttons.quit.hide(),ue.buttons.dude2.hide(),ue.buttons.mute.hide(),window.cordova||ue.buttons.fullScreenBrowser.hide(),ue.animationImage.sentence1.hide()},he=()=>{fe.clearBeforeRender=!1,O=parseInt(T("unlock-levels"))>1?T("unlock-levels"):1,ue.bgSet("#dfe4ff"),H=fe.add.image(0,0,"backgroundMenu"),H.fixedToCamera=!0,ue.buttons.play.show(),ue.buttons.quit.show(),ue.buttons.mute.show(T("mute")?10:9),window.cordova||ue.buttons.fullScreenBrowser.show(),ue.animationImage.sentence1.show();const e=f()?"GL":"CA";ue.text.show("right",0,fe.height-25,.9,"semDesign GRR v1.0.06 ("+(window.cordova?g():"Browser")+") "+e+(window.navigator.onLine?" online":" offline"),"400 12px Arial","#000000",!0,"logoText"),ue.buttons.openBoxMenu.show(),ue.buttons.levels.show(),ue.buttons.dude2.show(),fe.sound.mute=!!T("mute");let i=!0;fe.load.onLoadComplete.add((function(){var e,o;i&&(ue.mainElements.player.scale(),ue.preloader.hide(),ue.windows.boxTopMenu.f=!1,me?(ue.mainElements.endLevelS.obj.alpha=0,ue.mainElements.player.obj.body.gravity.y=-740,ue.mainElements.player.obj.body.bounce.y=0,X.blockedKeys=!0,fe.time.events.add(1,(function(){ue.mainElements.player.obj.alpha=0}),this),fe.camera.follow(ue.mainElements.player.obj,Phaser.Camera.FOLLOW_LOCKON,1,1)):(ue.image.show((ue.windows.boxMenu.obj,0),(ue.windows.boxMenu.obj,0),"boxTopMenu","boxTopMenu",.85,1,!1,!1,!1,!0),ue.windows.boxTopMenu.const.show(),ue.buttons.navigations.show(),g()&&window.navigator.onLine&&(fe.time.events.add(900,(function(){ue.windows.boxMenu.show()}),this),e=!1,o=!0,L(void 0,void 0,void 0,(function*(){if(!e&&(null===T("goldRushAdFullScreen-cookie-full-screen-ad")||o))if(o||(()=>{const e=new Date;e.setTime(e.getTime()+3e5);const i=`expires=${e.toUTCString()}`;document.cookie=`goldRushAdFullScreen-cookie-full-screen-ad=${encodeURIComponent("start")}; ${i}; path=/`})(),window.cordova)try{if(!S)return void console.warn("No interstitial (still no loaded)");window.StatusBar&&window.StatusBar.backgroundColorByHexString("#000000"),yield S.show()}catch(e){console.error("Error in showInterstitial:",e),alert("error add")}else alert("Ad for mobile")})))),ue.buttons.openBoxMenu.show("play-game"),i=!1)}),void 0)};window.addEventListener("resize",(function(){fe.scale.isFullScreen?B.classList.add("full-screen"):B.classList.remove("full-screen")}));const pe=()=>{console.log("########### Correct procent #############"),ue.mainElements.player.numberCoinsLevelProcentLastMemory>ue.mainElements.player.numberCoinsLevelProcent&&(ue.mainElements.player.numberCoinsLevelProcent=ue.mainElements.player.numberCoinsLevelProcentLastMemory,w("coins-procent-"+X.activeIdLevel,ue.mainElements.player.numberCoinsLevelProcentLastMemory))};T("coins-procent-last-memory")>0&&T("id-level-last-memory")>0&&(console.log("################# cookies last level and last ID #################"),console.log(T("id-level-last-memory")+" = prcent:"+T("coins-procent-last-memory")),w("coins-procent-"+T("id-level-last-memory"),T("coins-procent-last-memory")),w("id-level-last-memory",T("id-level-last-memory")));const ye=()=>{Z.main&&(console.log("########### end game #############"),fe.world.removeAll(),q.destroy(),ue.audio.bg.stop(),Z.main=!1,ue.mainElements.player.gameOver=!1,he())},ge={width:800,height:450,renderer:Phaser.AUTO,scaleMode:Phaser.ScaleManager.SHOW_ALL,fullScreenScaleMode:Phaser.ScaleManager.SHOW_ALL,parent:"game-content",enableDebug:!1,state:{preload:()=>{fe.load.tilemap("level1","levels/level1.json",null,Phaser.Tilemap.TILED_JSON),M[1]={background:"background4",fog:"yellowFog",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0,bgAudio:"bg-sound"},fe.load.tilemap("level2","levels/level2.json",null,Phaser.Tilemap.TILED_JSON),M[2]={background:"background4",backgroundMoveX:500,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0,timeLimit:200,bgAudio:"bg-sound-wind"},fe.load.tilemap("level3","levels/level3.json",null,Phaser.Tilemap.TILED_JSON),M[3]={background:"background4",backgroundMoveX:800,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:0,fogSpeed:0,positionGround:96,parallax:!0,timeLimit:200,bgAudio:"bg-sound-wind"},fe.load.tilemap("level4","levels/level4.json",null,Phaser.Tilemap.TILED_JSON),M[4]={background:"background4",backgroundMoveX:1e3,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-16,positionGround:64,parallax:!0},fe.load.tilemap("level5","levels/level5.json",null,Phaser.Tilemap.TILED_JSON),M[5]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-32,positionGround:64,parallax:!0,bgAudio:"bg-sound-wind"},fe.load.tilemap("level6","levels/level6.json",null,Phaser.Tilemap.TILED_JSON),M[6]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",positionGround:2880,parallax:!0,bgAudio:"bg-sound-wind"},fe.load.tilemap("level7","levels/level7.json",null,Phaser.Tilemap.TILED_JSON),M[7]={backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fogPositionY:-32,positionGround:800,parallax:!0,bgAudio:"bg-sound-wind"},fe.load.tilemap("level8","levels/level8.json",null,Phaser.Tilemap.TILED_JSON),M[8]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",positionGround:2768,parallax:!0,bgAudio:"bg-sound-wind"},fe.load.tilemap("level9","levels/level9.json",null,Phaser.Tilemap.TILED_JSON),M[9]={background:"the-end",backgroundColor:"#000000",fog:!1,positionGround:!1,parallax:!1,bgAudio:"bg-sound-music"},fe.load.image("tiles-1","images/tiles-1.png"),fe.load.spritesheet("dude","images/players1.png",48,64),fe.load.spritesheet("dude2","images/p-medium2.png",192,256),fe.load.spritesheet("intruder1","images/intruders4.png",48,64),fe.load.spritesheet("intruder2","images/intruders2.png",48,64),fe.load.spritesheet("intruder3","images/intruders3.png",48,64),fe.load.spritesheet("intruder4","images/snake3.png",71,33),fe.load.spritesheet("intruder5","images/condor2.png",64,68),fe.load.spritesheet("intruder6","images/intruders6.png",48,64),fe.load.spritesheet("intruder7","images/owl.png",50,53),fe.load.image("backgroundMenu","images/menu.jpg"),fe.load.image("boxMenu","images/box-menu4-mini.png"),fe.load.image("boxTopMenu","images/top-menu-mini.png"),fe.load.image("background1","images/background1.png"),fe.load.image("background1_1","images/background1_1.png"),fe.load.image("background2","images/background2_1.png"),fe.load.image("background3","images/background3.png"),fe.load.image("background4","images/background4.jpg"),fe.load.image("background5","images/background5.jpg"),fe.load.image("tile-size-black","images/tile-size-black.png"),fe.load.image("the-end","images/the-end.png"),fe.load.spritesheet("buttonsWindowMenu","images/buttons.png",112,48),fe.load.spritesheet("buttonsIcons","images/icons.png",48,48),fe.load.spritesheet("buttonLevel","images/button-level.png",64,64),fe.load.spritesheet("buttonNavigation","images/navigations.png",112,112),fe.load.image("buttonPause","images/pause.png"),fe.load.spritesheet("lifes-single-bar","images/lifes-single-bar.png",58,16),fe.load.spritesheet("log","images/log.png",16,16),fe.load.spritesheet("stone","images/stone.png",16,16),fe.load.image("yellowFog","images/fog-yellow.png"),fe.load.image("whiteFog","images/fog-white.png"),fe.load.image("ground","images/ground.png"),fe.load.spritesheet("coin","images/nu3.png",16,24),fe.load.spritesheet("Life","images/LifeFull.png",16,31),fe.load.spritesheet("Life2","images/LifeSingle.png",16,24),fe.load.spritesheet("key","images/key.png",16,43),fe.load.image("door","images/door2.png"),fe.load.image("door-horizontal","images/door-horizontal.png"),fe.load.image("lock","images/lock1.png"),fe.load.image("inside-house-1","images/inside-house-1.png"),fe.load.image("inside-house-2","images/inside-house-2.png"),fe.load.image("inside-house-3","images/inside-house-3.png"),fe.load.image("sentence1","images/trace1.png"),fe.load.image("sentence2","images/trace2.png"),fe.load.image("cactus","images/cactus2.png"),fe.load.image("grassLr","images/grass_lr.png"),fe.load.spritesheet("cactus-animate","images/cactus-animate.png",61,94),fe.load.spritesheet("grass-lr-anim","images/grass_anim8.png",34.5,32),fe.load.spritesheet("tree","images/tree-short.png",130,179),fe.load.image("bullet","images/bullet.png"),fe.load.spritesheet("bullets_gun","images/gun-bullets6.png",20,28),fe.load.spritesheet("end_level","images/end_level.png",100,130),fe.load.spritesheet("save_level","images/save-level2.png",100,130),fe.load.spritesheet("fire_up","images/fire_up3.png",48,48),fe.load.spritesheet("fire_up_normal","images/fire_up_normal_3.png",24,24),fe.load.spritesheet("fire_down","images/fire_down3.png",24,24),fe.load.spritesheet("fire_left","images/fire_left3.png",24,24),fe.load.spritesheet("fire_right","images/fire_right3.png",24,24),fe.load.image("windmill_1_new","images/windmill_1_5_new.png"),fe.load.image("windmill_2_new","images/windmill_2_5_new.png"),fe.load.image("gun","images/gun-real.png"),fe.load.image("cave","images/cave.png"),fe.load.image("stone-big","images/stone-big.png"),fe.load.spritesheet("stone-big-explosion","images/stone-big-explosion.png",96,96),fe.load.spritesheet("fog-single","images/fog-anim-half.png",800,206),fe.load.image("building1","images/building-barn1.png"),fe.load.image("building2","images/building-home1.png"),fe.load.image("building3","images/building-big-home1.png"),fe.load.image("building4","images/building-home2.png"),fe.load.image("building5","images/building-big-home2.png"),fe.load.image("building6","images/building-blacksmith.png"),fe.load.image("building7","images/building-sheriff.png"),fe.load.image("building8","images/building-saloon.png"),fe.load.image("building9","images/building-store.png"),fe.load.image("b-sheriff","images/b-sheriff.png"),fe.load.image("b-saloon","images/b-saloon.png"),fe.load.image("b-store","images/b-store.png"),fe.load.spritesheet("mine-part-2","images/mine-part2-4.png",175,331),fe.load.image("mine-part-1","images/mine-part1-6.png"),fe.load.spritesheet("water-red","images/water_red6.png",256,32),fe.load.spritesheet("water","images/water_4.png",256,32),fe.load.spritesheet("splash","images/splash7.png",84,38),fe.load.spritesheet("splash-water-red","images/splash-red9.png",84,38),fe.load.spritesheet("splash-water-green","images/splash-green9.png",84,38),fe.load.spritesheet("fireb","images/fish7.png",16,40),fe.load.spritesheet("fireb2","images/fireb.png",16,16),fe.load.spritesheet("explosion","images/explosion.png",64,64),fe.load.image("invisible","images/invisible.png"),fe.load.image("kladka-short","images/kladka-short.png"),fe.load.audio("footstep","audio/footstep2.mp3"),fe.load.audio("coin","audio/coin.mp3"),fe.load.audio("shoot","audio/shoot2.mp3"),fe.load.audio("bullets","audio/bullets3.mp3"),fe.load.audio("explosion-intruder","audio/explosion-intruder.mp3"),fe.load.audio("explosion","audio/explosion.mp3"),fe.load.audio("break-bones","audio/break-bones.mp3"),fe.load.audio("scream","audio/scream.mp3"),fe.load.audio("scream2","audio/scream2.mp3"),fe.load.audio("scream-intruder","audio/scream-intruder.mp3"),fe.load.audio("splash","audio/splash.mp3"),fe.load.audio("life","audio/life.mp3"),fe.load.audio("condor","audio/condor.mp3"),fe.load.audio("key","audio/key.mp3"),fe.load.audio("break-ground","audio/break.mp3"),fe.load.audio("quake","audio/quake.mp3"),fe.load.audio("door-lift","audio/door-lift.mp3"),fe.load.audio("bg1","audio/bg.mp3"),fe.load.audio("flash","audio/flash.mp3"),fe.load.audio("next-level","audio/next-level.mp3"),fe.load.audio("tic-score","audio/tic.mp3"),fe.load.audio("scale-down","audio/down.mp3"),fe.load.audio("magic","audio/magic.mp3"),fe.load.audio("bingo","audio/bingo.mp3"),fe.load.audio("elevator","audio/elevator.mp3"),fe.load.audio("owl","audio/owl.mp3"),fe.load.audio("bg-sound","audio/background2.mp3"),fe.load.audio("bg-sound-wind","audio/only-wind.mp3"),fe.load.audio("bg-sound-music","audio/background.mp3")},create:he,update:()=>{if(Z.main){if(ue.mainElements.windmillNewS.obj1.forEach((function(e){e.angle+=1}),void 0,!0),ue.mainElements.player.obj.body.offset.x=8,ue.mainElements.player.obj.body.width=32,(R.left.isDown||R.right.isDown||R.up.isDown)&&!se&&(le=ue.mainElements.player.obj.body.y,se=!0,ue.mainElements.player.obj.body.bounce.y=.3),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,G,(function(e,i){463===i.index||564===i.index||465===i.index||217===i.index||218===i.index||219===i.index?(i.x-1>0&&i.y-1>0&&(463===I.getTile(i.x-1,i.y-1,G,!0).index||564===I.getTile(i.x-1,i.y-1,G,!0).index||465===I.getTile(i.x-1,i.y-1,G,!0).index||217===I.getTile(i.x-1,i.y-1,G,!0).index||218===I.getTile(i.x-1,i.y-1,G,!0).index||219===I.getTile(i.x-1,i.y-1,G,!0).index)&&I.removeTile(i.x-1,i.y-1),463!==I.getTile(i.x+1,i.y+1,G,!0).index&&564!==I.getTile(i.x+1,i.y+1,G,!0).index&&465!==I.getTile(i.x+1,i.y+1,G,!0).index&&217!==I.getTile(i.x+1,i.y+1,G,!0).index&&218!==I.getTile(i.x+1,i.y+1,G,!0).index&&219!==I.getTile(i.x+1,i.y+1,G,!0).index||I.removeTile(i.x+1,i.y+1),463!==I.getTile(i.x+1,i.y,G,!0).index&&564!==I.getTile(i.x+1,i.y,G,!0).index&&465!==I.getTile(i.x+1,i.y,G,!0).index&&217!==I.getTile(i.x+1,i.y,G,!0).index&&218!==I.getTile(i.x+1,i.y,G,!0).index&&219!==I.getTile(i.x+1,i.y,G,!0).index||I.removeTile(i.x+1,i.y),463!==I.getTile(i.x,i.y+1,G,!0).index&&564!==I.getTile(i.x,i.y+1,G,!0).index&&465!==I.getTile(i.x,i.y+1,G,!0).index&&217!==I.getTile(i.x,i.y+1,G,!0).index&&218!==I.getTile(i.x,i.y+1,G,!0).index&&219!==I.getTile(i.x,i.y+1,G,!0).index||I.removeTile(i.x,i.y+1),i.x-1>0&&(463===I.getTile(i.x-1,i.y,G,!0).index||564===I.getTile(i.x-1,i.y,G,!0).index||465===I.getTile(i.x-1,i.y,G,!0).index||217===I.getTile(i.x-1,i.y,G,!0).index||218===I.getTile(i.x-1,i.y,G,!0).index||219===I.getTile(i.x-1,i.y,G,!0).index)&&I.removeTile(i.x-1,i.y),i.y-1>0&&(463===I.getTile(i.x,i.y-1,G,!0).index||564===I.getTile(i.x,i.y-1,G,!0).index||465===I.getTile(i.x,i.y-1,G,!0).index||217===I.getTile(i.x,i.y-1,G,!0).index||218===I.getTile(i.x,i.y-1,G,!0).index||219===I.getTile(i.x,i.y-1,G,!0).index)&&I.removeTile(i.x,i.y-1),i.x-1>0&&(463===I.getTile(i.x-1,i.y+1,G,!0).index||564===I.getTile(i.x-1,i.y+1,G,!0).index||465===I.getTile(i.x-1,i.y+1,G,!0).index||217===I.getTile(i.x-1,i.y+1,G,!0).index||218===I.getTile(i.x-1,i.y+1,G,!0).index||219===I.getTile(i.x-1,i.y+1,G,!0).index)&&I.removeTile(i.x-1,i.y+1),i.y-1>0&&(463===I.getTile(i.x+1,i.y-1,G,!0).index||564===I.getTile(i.x+1,i.y-1,G,!0).index||465===I.getTile(i.x+1,i.y-1,G,!0).index||217===I.getTile(i.x+1,i.y-1,G,!0).index||218===I.getTile(i.x+1,i.y-1,G,!0).index||219===I.getTile(i.x+1,i.y-1,G,!0).index)&&I.removeTile(i.x+1,i.y-1),463!==I.getTile(i.x+2,i.y,G,!0).index&&564!==I.getTile(i.x+2,i.y,G,!0).index&&465!==I.getTile(i.x+2,i.y,G,!0).index&&217!==I.getTile(i.x+2,i.y,G,!0).index&&218!==I.getTile(i.x+2,i.y,G,!0).index&&219!==I.getTile(i.x+2,i.y,G,!0).index||I.removeTile(i.x+2,i.y),i.x-2>0&&(463===I.getTile(i.x-2,i.y,G,!0).index||564===I.getTile(i.x-2,i.y,G,!0).index||465===I.getTile(i.x-2,i.y,G,!0).index||217===I.getTile(i.x-2,i.y,G,!0).index||218===I.getTile(i.x-2,i.y,G,!0).index||219===I.getTile(i.x-2,i.y,G,!0).index)&&I.removeTile(i.x-2,i.y),ue.mainElements.explosion.add(i.x,i.y),I.removeTile(i.x,i.y),463===i.index&&ue.mainElements.logs.add(i.x,i.y,!1,"log"),564===i.index&&ue.mainElements.logs.add(i.x,i.y,"coin","log"),465===i.index&&ue.mainElements.logs.add(i.x,i.y,"surprise","log"),217===i.index&&ue.mainElements.logs.add(i.x,i.y,!1,"stone"),218===i.index&&ue.mainElements.logs.add(i.x,i.y,"coin","stone"),219===i.index&&ue.mainElements.logs.add(i.x,i.y,"surprise","stone")):i.index>0&&e&&(e.kill(),ue.mainElements.explosion.add(i.x,i.y))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,G,(function(e,i){101===i.index?(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,fe.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this)):417===i.index?(I.removeTile(i.x,i.y,G),I.putTile(416,i.x,i.y,G),ue.mainElements.openDoor(e)):463!==i.index&&564!==i.index&&465!==i.index&&217!==i.index&&218!==i.index&&219!==i.index||(I.removeTile(i.x,i.y),463===i.index&&ue.mainElements.logs.add(i.x,i.y,!1,"log"),564===i.index&&ue.mainElements.logs.add(i.x,i.y,"coin","log"),465===i.index&&ue.mainElements.logs.add(i.x,i.y,"surprise","log"),217===i.index&&ue.mainElements.logs.add(i.x,i.y,!1,"stone"),218===i.index&&ue.mainElements.logs.add(i.x,i.y,"coin","stone"),219===i.index&&ue.mainElements.logs.add(i.x,i.y,"surprise","stone"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,G,(function(e,i){101===i.index&&(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,fe.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this))}),null,void 0),ue.mainElements.player.obj.t1=!1,fe.physics.arcade.collide(ue.mainElements.player.obj,G,(function(e,i){ue.mainElements.player.checkIfWasKilledAndOther(e),e.killHitIntruder&&(e.killHitIntruder=!1),(R.right.isDown||R.left.isDown)&&(e.body.blocked.right||e.body.blocked.left)&&!D.isDown&&e.body.onFloor()&&(e.body.velocity.y=-192)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.coins.obj,G),fe.physics.arcade.collide(ue.mainElements.logs.obj,G),fe.physics.arcade.collide(ue.mainElements.logs.obj,ue.mainElements.intruders.obj,(function(e,i){ue.mainElements.intruders.collisionBack(i)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.logs.obj,ue.mainElements.logs.obj,(function(e){})),fe.physics.arcade.overlap(ue.mainElements.invisibleLogs.obj,ue.mainElements.player.obj,(function(e,i){i.onlynOne||ue.mainElements.player.obj.body.overlapY>0||(i.body.velocity.y=-330,"left"===Q?i.body.velocity.x=-30:"right"===Q&&(i.body.velocity.x=30),ue.audio.breakGround(),fe.time.events.add(50,(function(){i.body.allowGravity=!0,i.body.checkCollision.down=!1}),this),i.originY=i.y,i.scale.setTo(1,1),i.animations.add("run",[11,10,9,8,7,6,5,4,3,2,1,0,0,0]).onComplete.add((function(){i.originX=i.x,ue.audio.magic(),I.putTile(104,Math.ceil(i.originX/C),Math.ceil(i.originY/C)+1,G),I.putTile(104,Math.ceil(i.originX/C)+1,Math.ceil(i.originY/C)+1,G),I.putTile(104,Math.ceil(i.originX/C)+2,Math.ceil(i.originY/C)+1,G),I.putTile(104,Math.ceil(i.originX/C)-1,Math.ceil(i.originY/C)+1,G),I.putTile(104,Math.ceil(i.originX/C)-2,Math.ceil(i.originY/C)+1,G),i.kill()}),this),i.animations.play("run",15,!1),i.onlynOne=!0)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,ue.mainElements.logs.obj,(function(e,i){ue.mainElements.logs.destruction(i),e.kill()}),null,void 0),fe.physics.arcade.collide(ue.mainElements.logs.obj,ue.mainElements.player.obj,(function(e,i){ue.mainElements.player.obj.body.overlapY>0?(ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),i.isUp=!0,ue.mainElements.player.obj.body.allowGravity=!1,fe.time.events.add(300,(function(){i.isUp=!1}),this)):ue.mainElements.logs.destruction(i)}),null,void 0),ue.mainElements.stoneBigS.obj.forEach((function(e){0!==e.body.gravity.x&&(e.body.gravity.x=0),e.keepStone?(ue.mainElements.stoneBigS.keepStone=!0,e.y=ue.mainElements.player.obj.y+ue.mainElements.player.obj.height-e.body.height/2,"right"===J?e.x=ue.mainElements.player.obj.x+ue.mainElements.player.obj.width:"left"===J&&(e.x=ue.mainElements.player.obj.x)):Math.ceil(e.body._dy)>4&&(e.quake=!0)}),void 0,!0),fe.physics.arcade.collide(ue.mainElements.stoneBigS.obj,G,(function(e,i){e.quake&&(ue.audio.quake(),fe.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),e.quake=!1)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.intruders.obj,ue.mainElements.stoneBigS.obj,(function(e,i){i.quake?(i.quake=!1,e.body.overlapY<0&&e.body.height&&(e.body.height=0,e.killing||ue.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killing=!0),ue.audio.quake(),fe.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL)):(ue.mainElements.intruders.collisionBack(e),i.body.moves=!1,i.body.immovable=!0,fe.time.events.remove(i.fOnlyOne),i.fOnlyOne=fe.time.events.add(300,(function(){i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this))}),null,void 0),fe.physics.arcade.collide(ue.mainElements.player.gun.bullets.obj,ue.mainElements.stoneBigS.obj,(function(e,i){ue.mainElements.explosion.add(e.body.position.x/C,e.body.position.y/C),ue.mainElements.stoneBigExplosion.add(i.body.position.x/C,i.body.position.y/C),i.kill(),e.kill()}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,ue.mainElements.insideHouses1.obj,(function(e,i){ue.mainElements.explosion.add(e.body.position.x/C,e.body.position.y/C),e.kill()}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.insideHouses0.obj,(function(e,i){if(e.body.position.x>i.body.position.x+40&&e.body.position.x<i.body.position.x+130&&e.body.position.y>i.body.position.y+100&&(ue.addPoint(i.x+45,i.y+100,"youCanEnter"+ue.mainElements.player.numberLifes,"You can come in"),!e.insideHouse&&R.down.isDown)){e.insideHouse=!0,e.insideHouseRandomNumber=i.randomString,fe.time.events.add(300,(function(){e.insideHouse=!1}),this);const o=i.body.position.x/C+(i.body.width/C-1)/2,n=i.body.position.y/C+i.body.height/C-2;e.body.position.y=n*C-e.body.height+20,e.scale.y=.8,e.scale.x=.8,ue.mainElements.insideHouses1.add(o,n,e.insideHouseRandomNumber),ue.mainElements.insideHouses0.hide(e.insideHouseRandomNumber)}}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.insideHouses1.obj,(function(e,i){if(e.body.position.x>i.body.position.x+40&&e.body.position.x<i.body.position.x+130&&e.body.position.y>i.body.position.y+100&&(ue.addPoint(i.x+35,i.y+100,"youCanEnter"+ue.mainElements.player.numberLifes,"You can go outside"),!e.insideHouse&&R.down.isDown)){e.insideHouse=!0,fe.time.events.add(300,(function(){e.insideHouse=!1}),this);const o=i.body.position.x/C+(i.body.width/C-1)/2,n=i.body.position.y/C+i.body.height/C-2;e.scale.y=1,e.scale.x=1,ue.mainElements.insideHouses0.add(o,n,e.insideHouseRandomNumber),ue.mainElements.insideHouses1.hide(e.insideHouseRandomNumber)}}),null,void 0),fe.physics.arcade.collide(ue.mainElements.player.obj,ue.mainElements.insideHouses1.obj,(function(e,i){e.youCanJump=!0,fe.time.events.add(300,(function(){e.youCanJump=!1}),this)}),null,void 0),ue.mainElements.player.colisinStoneCollision=0,fe.physics.arcade.collide(ue.mainElements.player.obj,ue.mainElements.stoneBigS.obj,(function(e,i){if(0===e.body.overlapY&&(ue.mainElements.player.colisinStoneCollision++,R.down.isDown&&!ue.mainElements.stoneBigS.keepStone?(i.keepStone=!0,ue.mainElements.stoneBigS.keepStone=!0,ce=50,e.youCanJump=!1,J=R.left.isDown?"left":"right",fe.time.events.add(10,(function(){ce=50}),this)):(i.body.immovable=!0,i.body.moves=!1,fe.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=fe.time.events.add(300,(function(){i.body.immovable=!1,i.body.moves=!0}),this),R.down.isDown&&ue.mainElements.stoneBigS.keepStone&&(i.keepStone=!1,ue.mainElements.stoneBigS.keepStone=!1,ce=16777215!==ue.mainElements.player.obj.tint?300:200,i.body.velocity.y=-300,i.body.velocity.x="left"===J?-300:300)),i.body.immovable=!1,i.body.moves=!0,i.body.gravity.x=0,X.blockedKeys?i.body.gravity.x=0:R.right.isDown?i.body.gravity.x=ue.mainElements.stoneBigS.keepStone?8500:-8500:R.left.isDown&&(i.body.gravity.x=ue.mainElements.stoneBigS.keepStone?-8500:8500),fe.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=fe.time.events.add(30,(function(){i.body.gravity.x=0,i.body.immovable=!1}),this),ue.mainElements.player.colisinStoneCollision>1&&(i.body.gravity.x=0)),i.quake&&(ue.audio.quake(),fe.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),i.quake=!1,e.body.overlapY<0&&e.body.height)){const i=e.body.height;e.body.height=0,fe.time.events.add(300,(function(){e.body.height=i}),this),ue.mainElements.player.lostLife(e,10)}i.keepStone||(e.youCanJump=!0,fe.time.events.add(300,(function(){e.youCanJump=!1}),this)),i.quake=!1,i.onlyOne&&"idle"===Q||(ue.mainElements.player.checkIfWasKilledAndOther(e),i.onlyOne=!0),fe.time.events.remove(i.fOnlyOne),i.fOnlyOne=fe.time.events.add(100,(function(){i.onlyOne=!1,i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.stoneBigS.obj,ue.mainElements.stoneBigS.obj,(function(e,i){fe.time.events.remove(e.timeCheck1),e.timeCheck1=fe.time.events.add(50,(function(){e.body.velocity.x=0}),this),fe.time.events.remove(i.timeCheck1),i.timeCheck1=fe.time.events.add(50,(function(){i.body.velocity.x=0}),this)})),fe.physics.arcade.collide(ue.mainElements.Lifes.obj,G),fe.physics.arcade.collide(ue.mainElements.player.gun.bullets.obj,G),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,ue.mainElements.intruders.obj,(function(e,i){4===i.type||5===i.type||7===i.type?(i.killing||ue.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0):(ue.audio.screamIntruder(.05),i.deactiveVelocity=e.direction,i.firstShoot?(i.randomMove="intruzLeft",i.killing||(ue.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0)):(6===i.type?i.firstShoot=0:(i.firstShoot=1,i.randomSpeed=i.randomSpeed/2),fe.time.events.add(50,(function(){ue.mainElements.splashs.add(i.body.position.x/C,e.body.position.y/C,"splash-water-green","blood")}),this),fe.time.events.add(50,(function(){"intruzRight"===i.randomMove?i.randomMove="intrudersdleLeft":i.randomMove="intrudersdleRight"}),this),fe.time.events.add(600,(function(){"intrudersdleLeft"===i.randomMove?i.randomMove="intruzRight":i.randomMove="intruzLeft",i.deactiveVelocity=!1}),this))),ue.mainElements.explosion.add(e.body.position.x/C,e.body.position.y/C),e.kill()}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.gun.bullets.obj,G,(function(e,i){(e.body.blocked.right||e.body.blocked.left)&&e.kill()}),null,void 0),ue.mainElements.player.obj.gForceWater&&(ue.mainElements.player.obj.body.gravity.y=0,ue.mainElements.player.obj.gForceWater=!1),ue.mainElements.firebs.obj.forEach((function(e){e.startPositionSaveY||(e.startPositionSaveY=Math.ceil(e.body.position.y/C)),e.currentPositionY=Math.ceil(e.body.position.y/C),0==oe&&(e.start=!0),ue.mainElements.player.detectionHoldOnObject(e,2)?(e.active=!0,e.activeWait&&(fe.time.events.add(1e3*E(0,3),(function(){e.fall=!1,e.alpha=1}),this),e.activeWait=!1)):e.active=!1,e.start&&(e.fall?e.startPositionSaveY-e.currentPositionY!=0||e.t||(e.body.velocity.y=0,e.body.allowGravity=!1,e.t=!0,e.alpha=0,fe.time.events.add(1e3*E(1,6),(function(){e.active?(e.fall=!1,e.alpha=1):e.activeWait=!0}),this)):e.startPositionSaveY-e.currentPositionY==0?(e.typeFire||e.animations.play("run1",10,!0),e.alpha=1,e.body.allowGravity=!1,e.body.velocity.y=-600):e.startPositionSaveY-e.currentPositionY==4?e.body.allowGravity=!0:e.startPositionSaveY-e.currentPositionY==16&&(e.typeFire||e.animations.play("run2",10,!0),e.body.allowGravity=!0,e.body.velocity.y=0,e.fall=!0,e.t=!1))}),void 0,!0),fe.physics.arcade.overlap(ue.mainElements.firebs.obj,ue.mainElements.waters.obj,(function(e,i){fe.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=fe.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C,(e.body.position.y+(e.typeFire?-16:8))/C,"water-red"===i.type&&"splash-water-red"),e.gForceWaterOnlyeOne=!0)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.stoneBigS.obj,ue.mainElements.waters.obj,(function(e,i){fe.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=fe.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C,(e.body.position.y+(e.typeFire?-16:8))/C,"water-red"===i.type&&"splash-water-red"),e.gForceWaterOnlyeOne=!0)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.firebs.obj,(function(e,i){1===i.alpha&&ue.mainElements.player.lostLife(e)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.waters.obj,(function(e,i){if(e.body.gravity.y=-525,ue.mainElements.player.checkIfWasKilledAndOther(e,"water"),fe.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=fe.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),"water-red"!==i.type?(fe.time.events.remove(e.waterYSaveTime),e.waterYSaveTime=fe.time.events.add(300,(function(){e.waterYSave=!1}),this),e.waterYSave||(e.waterYSave=Math.ceil(i.body.position.y/C)),e.waterYSave-Math.ceil(e.body.position.y/C)<2?(e.iterWater||(e.iterWater=1),e.iterWater++,e.iterWater>=250&&(ue.mainElements.player.lostLife(e),e.iterWater=!1)):e.iterWater=!1):ue.mainElements.player.lostLife(e,10),!e.gForceWaterOnlyeOne){let o=!1;"water-red"===i.type&&(o="splash-water-red"),"left"===e.animations.currentAnim.name||"jump-left"===e.animations.currentAnim.name?ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C-2,(e.body.position.y+32)/C,o):"right"===e.animations.currentAnim.name||"jump-right"===e.animations.currentAnim.name?ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C+2,(e.body.position.y+32)/C,o):ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C,(e.body.position.y+28)/C,o),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,(R.left.isDown||R.right.isDown)&&(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),ee%15==0&&(e.delayWater=!1))}),null,void 0),ue.mainElements.waters.obj.forEach((function(e){ue.mainElements.player.detectionHoldOnObject(e,1)?e.alpha||(e.alpha=.7):e.alpha&&(e.alpha=0)}),void 0,!0),ue.mainElements.intruders.obj.forEach((function(e){e.type<4&&(e.body.offset.x=8,e.body.width=32),e.gForceWater&&(e.body.gravity.y=0,e.gForceWater=!1),4===e.type?(e.body.offset.y=6,e.body.height=26):5!==e.type&&7!==e.type||(e.body.offset.y=16,e.body.height=52,e.jumpToFly||(e.body.velocity.y=ee>=0&&ee<60?-50:25)),e.body.y+e.height===I.height*I.tileHeight&&(e.killing||ue.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killing=!0),6===e.type&&("intrudersdleRight"!==e.randomMove&&"intrudersdleLeft"!==e.randomMove||e.position.x>ue.mainElements.player.obj.position.x-128&&e.position.x<ue.mainElements.player.obj.position.x+64&&("intrudersdleRight"===e.randomMove?e.randomMove="intruzRight":"intrudersdleLeft"===e.randomMove&&(e.randomMove="intruzLeft")))}),void 0,!0),fe.physics.arcade.overlap(ue.mainElements.intruders.obj,ue.mainElements.waters.obj,(function(e,i){if(e.active){if(e.body.gravity.y=-525,fe.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=fe.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),!e.gForceWaterOnlyeOne){4===e.type?e.move_y=-2.0625:e.move_y=0;let o=!1;"water-red"===i.type&&(e.killed||(ue.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killed=!0),o="splash-water-red"),"left"===e.animations.currentAnim.name?ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C-2,e.move_y+(e.body.position.y+32)/C,o):"right"===e.animations.currentAnim.name?ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C+2,e.move_y+(e.body.position.y+32)/C,o):ue.mainElements.splashs.add((e.body.position.x+e.body.width/2)/C,e.move_y+(e.body.position.y+28)/C,o),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,"right"!=e.animations.currentAnim.name&&"left"!=e.animations.currentAnim.name||(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),ee%15==0&&(e.delayWater=!1))}}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.coins.obj,(function(e,i){ue.audio.coin(),ue.mainElements.player.numberCoins++,ue.mainElements.player.numberCoinsLevel++,ue.mainElements.player.numberCoinsLevelProcent=Math.ceil(100*ue.mainElements.player.numberCoinsLevel/de),i.kill(),ue.windows.boxTopMenu.f=!1,ue.addPoint(i.x,e.y,"addPointGold"+ue.mainElements.player.numberCoins,"+1 gold")}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.Lifes.obj,(function(e,i){ue.mainElements.player.numberMainLifes++,ue.audio.life(),e.body.velocity.y=-300,fe.time.events.remove(ue.mainElements.player.timeLife),16777215===e.tint&&(ue.mainElements.player.scale("increase"),ue.mainElements.player.timeLife=fe.time.events.add(3e4,(function(){16776960===e.tint&&ue.mainElements.player.scale("restart")}),this)),fe.time.events.add(200,(function(){ue.audio.life(),fe.time.events.add(200,(function(){ue.audio.life()}),this)}),this),i.kill(),ue.windows.boxTopMenu.f=!1,ue.addPoint(i.x,e.y,"addPointFullLife"+ue.mainElements.player.numberMainLifes,"+1 full life")}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.LifeSingleS.obj,(function(e,i){3===ue.mainElements.player.numberLifes?ue.addPoint(i.x,e.y,"addPointLife"+ue.mainElements.player.numberLifes,"You have a full bag"):(ue.mainElements.player.numberLifes++,ue.audio.life(),i.kill(),ue.windows.boxTopMenu.f=!1,ue.addPoint(i.x,e.y,"addPointLife"+ue.mainElements.player.numberLifes,"+1 life"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.bulletsGuns.obj,(function(e,i){ue.audio.bullets(),ue.mainElements.player.countBullets+=6,ue.mainElements.player.countBulletsF=!0,i.kill(),ue.windows.boxTopMenu.f=!1,ue.addPoint(i.x,e.y,"addPointBullet"+ue.mainElements.player.countBullets,"+6 bullets")}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.endLevelS.obj,(function(e,i){if(!X.readyLoad){ue.mainElements.player.removeKeepStone(),ue.audio.nextLevelNew.play(.5),w("id-level-last-memory",X.activeIdLevel),w("coins",ue.mainElements.player.numberCoins),w("coins-"+X.activeIdLevel,ue.mainElements.player.numberCoinsLevel),ue.mainElements.player.numberCoinsLevelProcent>ue.mainElements.player.numberCoinsLevelProcentLastMemory&&w("coins-procent-"+X.activeIdLevel,ue.mainElements.player.numberCoinsLevelProcent),w("Lifes",ue.mainElements.player.numberLifes),w("main-Lifes",ue.mainElements.player.numberMainLifes),w("bullets",ue.mainElements.player.countBullets),X.readyLoad=!0,X.blockedKeys=!0;const e=function(){ue.text.hide("score"),ue.text.hide("scoreTotal"),pe(),X.activeIdLevel=X.activeIdLevel+1,P===X.activeIdLevel-1?ue.windows.boxMenu.show("game-complete"):(ye(),X.name="level"+X.activeIdLevel,(!T("unlock-levels")||T("unlock-levels")<X.activeIdLevel)&&(O=X.activeIdLevel,w("unlock-levels",O)),be(!1,P===X.activeIdLevel,ie))};if(me)fe.time.events.add(3e3,e,this);else{ue.mainElements.player.obj.animations.play("end-level"),fe.time.events.add(3e3,(function(){ue.mainElements.player.obj.animations.play("idle-left")}),this),ue.mainElements.player.obj.body.bounce.y=.9,ue.mainElements.player.obj.body.velocity.y=-330,ue.mainElements.player.jumpTimer=fe.time.now+330;const i=ue.mainElements.player.numberCoinsLevelProcentLastMemory;let o="";ie=0;const n=function(){ue.text.show("center",0,0,.9,"Score: "+ie+"%","bold 20px Arial","#dad9d5",!0,"score",!0),ue.audio.ticScore(),ie<ue.mainElements.player.numberCoinsLevelProcent?(ie++,fe.time.events.add(100,n,this)):(ue.audio.quake(),fe.camera.shake(.05,500,!0,Phaser.Camera.SHAKE_VERTICAL),i>ie?o="\nYour the best score: "+i+"%":ie&&(o="\nThis is your best score!"),P===X.activeIdLevel+1?fe.time.events.add(1e3,(function(){let i=0;for(let e=1;e<P;e++)T("coins-procent-"+e)&&(i+=parseInt(T("coins-procent-"+e)));i=Math.ceil(i/(P-1));let o=0;const n=function(){o<i?(o++,fe.time.events.add(100,n,this)):(ue.audio.quake(.6),fe.camera.shake(.08,600,!0,Phaser.Camera.SHAKE_VERTICAL),fe.time.events.add(4e3,e,this)),ue.text.hide("scoreTotal"),ue.text.show("center",0,48,.9,"Score Total: "+o+"%","bold 32px Arial","#dad9d5",!0,"scoreTotal",!0),ue.audio.ticScore()};n()}),this):fe.time.events.add(4e3,e,this)),ue.text.hide("score"),ue.text.show("center",0,0,.9,"Score: "+ie+"%"+o,"bold 20px Arial","#dad9d5",!0,"score",!0)};fe.time.events.add(3e3,n,this)}let i=null;const o=function(e){i||(i=e),"right"===Q?ue.mainElements.player.obj.body.velocity.x=100:"left"===Q&&(ue.mainElements.player.obj.body.velocity.x=-100),e-i<500&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}ue.windows.boxTopMenu.f=!1}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.saveLevelS.obj,(function(e,i){te===i.body.x&&ae===i.body.y||i.block||(te=i.body.x,ae=i.body.y,i.block=!0,i.animations.play("run2",17,!0),ue.audio.flash(1))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.keys.obj,(function(e,i){i.kill(),re++,ue.audio.key(.8),ue.windows.boxTopMenu.f=!1,ue.addPoint(i.x,e.y,"addPointKey","You got the key!")}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.locks.obj,(function(e,i){re>0&&(i.kill(),ue.mainElements.openDoor(e),ue.windows.boxTopMenu.f=!1,re--)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.player.obj,ue.mainElements.insideHouses1.obj),fe.physics.arcade.collide(ue.mainElements.player.obj,ue.mainElements.doors.obj),fe.physics.arcade.collide(ue.mainElements.player.obj,ue.mainElements.doorsHorizontal.obj,(function(e,i){e.youCanJump=!0,fe.time.events.add(300,(function(){e.youCanJump=!1}),this),ue.mainElements.player.checkIfWasKilledAndOther(e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.intruders.obj,ue.mainElements.doors.obj,(function(e,i){ue.mainElements.intruders.collisionBack(e)})),fe.physics.arcade.collide(ue.mainElements.intruders.obj,ue.mainElements.doorsHorizontal.obj),fe.physics.arcade.collide(ue.mainElements.stoneBigS.obj,ue.mainElements.doors.obj),fe.physics.arcade.collide(ue.mainElements.player.gun.bullets.obj,ue.mainElements.doors.obj,(function(e,i){ue.mainElements.explosion.add(i.x/C,e.y/C),e.kill()}),null,void 0),fe.physics.arcade.collide(ue.mainElements.stoneBigS.obj,ue.mainElements.doorsHorizontal.obj),ue.mainElements.player.obj.body.y+ue.mainElements.player.obj.height===I.height*I.tileHeight&&ue.mainElements.player.lostLife(ue.mainElements.player.obj,3),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.fire.fireUpS.obj,(function(e,i){ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.player.lostLife(e)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.fire.fireDownS.obj,(function(e,i){ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.player.lostLife(e)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.fire.fireLeftS.obj,(function(e,i){ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.player.lostLife(e)}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.fire.fireRightS.obj,(function(e,i){ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.player.lostLife(e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.intruders.obj,G),X.blockedKeys||(fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.intruders.obj,(function(e,i){.8!==e.scale.x?i.killing||(e.body.overlapY>0&&(ue.mainElements.player.checkIfWasKilledAndOther(e),4===i.type?ue.audio.breakBones():5===i.type?ue.audio.condor():7===i.type?ue.audio.owl():ue.audio.screamIntruder(.05),ue.mainElements.intruders.collisionIntruz(i),5!==i.type&&6!==i.type&&5!==i.type&&(i.hit&&e.killHitIntruder||(e.killHitIntruder=!0,i.hit=1),i.hit>6?(i.killing||ue.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0,i.hit=!1,i.type<4&&ue.mainElements.bulletsGuns.add(i.x/C-1,i.y/C),i.type<4&&i.giveBackLive&&ue.mainElements.LifeSingleS.add(i.x/C,i.y/C)):i.hit++)),0!==e.body.overlapY&&(ue.mainElements.player.lostLife(e),i.giveBackLive=!0)):(i.body.checkCollision.up=!1,i.body.checkCollision.right=!1,i.body.checkCollision.left=!1,fe.time.events.add(300,(function(){i.body.checkCollision.up=!0,i.body.checkCollision.right=!0,i.body.checkCollision.left=!0}),this))}),null,void 0),fe.physics.arcade.collide(ue.mainElements.intruders.obj,ue.mainElements.player.obj)),ue.mainElements.player.countBulletsF&&(0===ue.mainElements.player.countBullets?(ue.buttons.navigations.shot.alpha=0,ue.buttons.navigations.shot.inputEnabled=!1):(ue.buttons.navigations.shot.alpha=.6,ue.buttons.navigations.shot.inputEnabled=!0),ue.mainElements.player.countBulletsF=!1),ee>=120?ee=0:ee++,fe.physics.arcade.overlap(ue.mainElements.intruders.obj,G,(function(e,i){if(ue.mainElements.player.detectionHoldOnObject(e,.8)?(e.active=!0,0===e.alpha&&(e.alpha=1)):(e.active=!1,e.alpha=0,e.body.velocity.x=0,e.animations.stop()),e.active)if(e.timeLoop||(e.timeLoop=1,ue.mainElements.intruders.id++,e.id=ue.mainElements.intruders.id,e.break=4e3*e.id),e.timeLoop++,e.body.velocity.x=0,"intruzRight"==e.randomMove||"intruzLeft"==e.randomMove)1!==e.type&&4!==e.type&&5!==e.type&&7!==e.type||(e.body.blocked.left?(4===e.type?(e.frame=41,fe.time.events.add(30,(function(){e.frame=37}),this),fe.time.events.add(60,(function(){e.randomMove="intruzLeft"}),this)):e.randomMove="intruzLeft",5===e.type&&ue.audio.condor(),7===e.type&&ue.audio.owl()):e.body.blocked.right&&(4===e.type?(e.frame=40,fe.time.events.add(30,(function(){e.frame=37}),this),fe.time.events.add(60,(function(){e.randomMove="intruzRight"}),this)):e.randomMove="intruzRight",5===e.type&&ue.audio.condor(),7===e.type&&ue.audio.owl())),e.body.blocked.up&&(e.body.blocked.left?e.randomMove="intruzLeft":e.body.blocked.right&&(e.randomMove="intruzRight")),2!==e.type&&3!==e.type||(e.body.blocked.left||e.body.blocked.right)&&(ue.mainElements.intruders.jump(e,450),2===ee&&(e.body.blocked.left?e.randomMove="intruzLeft":e.body.blocked.right&&(e.randomMove="intruzRight"))),1===e.type||2===e.type||4===e.type||5===e.type||6===e.type||7===e.type?"intruzRight"==e.randomMove?(4===e.type?e.body.velocity.x=-e.randomSpeed/2:5===e.type||7===e.type?e.body.velocity.x=-e.randomSpeed/1.2:e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,ue.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play("left"),e.check=!1):"intruzLeft"==e.randomMove&&(4===e.type?e.body.velocity.x=e.randomSpeed/2:5===e.type||7===e.type?e.body.velocity.x=e.randomSpeed/1.2:e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,ue.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play("right"),e.check=!1):3===e.type&&("intruzRight"==e.randomMove?e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play("idle-left"),e.randomMove="intruzLeft",e.check=!0),e.killing&&e.animations.play("kill")):(e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,ue.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play("left"),e.check=!1):"intruzLeft"==e.randomMove&&(e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play("idle-right"),e.randomMove="intruzRight",e.check=!0),e.killing&&e.animations.play("kill")):(e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,ue.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play("right"),e.check=!1))),6===e.type&&(e.area||(e.position.x<ue.mainElements.player.obj.position.x?e.randomMove="intruzLeft":e.randomMove="intruzRight",e.area=!0,fe.time.events.add(x([600,900,1200]),(function(){e.area=!1}),this)),(e.body.blocked.left||e.body.blocked.right)&&(ue.mainElements.intruders.jump(e,450),2===ee&&(e.body.blocked.left?e.randomMove="intrudersdleLeft":e.body.blocked.right&&(e.randomMove="intrudersdleRight")))),5!==e.type&&7!==e.type||e.body.blocked.down&&(ue.mainElements.intruders.jump(e,350),5===e.type&&ue.audio.condor(),7===e.type&&ue.audio.owl()),e.timeLoop>=1&&e.timeLoop<=4e3+e.break||(e.timeLoop=1);else if("intrudersdleRight"===e.randomMove)e.animations.play("idle-right");else if("intrudersdleLeft"===e.randomMove)e.animations.play("idle-left");else if("intruzDelete"===e.randomMove){e.randomMove=parseInt(2*Math.random())?"intruzRight":"intruzLeft";let i=[],o=e.wspStartX,n=e.wspStartY;if($.length>0){const e=E(0,$.length-1);i=$[e].split(","),o=parseInt(i[0]/C),n=parseInt(i[1]/C)}e.kill(),fe.time.events.add(1e3*E(8,16),(function(){ue.mainElements.intruders.add(o,n,e.type)}),this)}else"intruzStop"==e.randomMove&&(4===e.type||5===e.type||7===e.type||(e.frame=37))}),null,void 0),ue.mainElements.player.obj.body.velocity.x=0,X.blockedKeys||(R.up.isDown&&("right"===Q?ue.mainElements.player.obj.touchGround||ue.mainElements.player.obj.animations.play("jump-right"):"left"===Q&&(ue.mainElements.player.obj.touchGround||ue.mainElements.player.obj.animations.play("jump-left")),ue.mainElements.player.obj.touchGroundTime=fe.time.events.add(300,(function(){X.blockedKeys||("left"===Q?ue.mainElements.player.obj.animations.play("left"):"right"===Q&&ue.mainElements.player.obj.animations.play("right"),ue.mainElements.player.obj.touchGround=!0)}),void 0)),R.left.isDown?(ue.mainElements.player.obj.body.velocity.x=-ce,"left"!==Q&&(ue.mainElements.player.obj.animations.play("left"),Q="left")):R.right.isDown?(ue.mainElements.player.obj.body.velocity.x=ce,"right"!==Q&&(ue.mainElements.player.obj.animations.play("right"),Q="right")):"idle"!==Q&&(ue.mainElements.player.obj.animations.stop(),"left"===Q?ue.mainElements.player.obj.animations.play("idle-left"):ue.mainElements.player.obj.animations.play("idle-right"),Q="idle")),fe.physics.arcade.collide(ue.mainElements.kladki.poziom.obj,G),fe.physics.arcade.overlap(ue.mainElements.kladki.poziom.obj,G,(function(e,i){e.body.velocity.x=0,e.onlyOne||(e.run=!0,e.onlyOne=!0),e.run&&(e.body.blocked.right?e.direction="left":e.body.blocked.left&&(e.direction="right"),"right"==e.direction?e.body.velocity.x=100:e.body.velocity.x=-100),(e.body.blocked.left||e.body.blocked.right)&&(e.run=!1,fe.time.events.add(1e3,(function(){e.run=!0}),this)),e.isUp=!1}),null,void 0),ue.mainElements.player.obj.body.allowGravity=!0,fe.physics.arcade.collide(ue.mainElements.kladki.poziom.obj,ue.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(i.run||(i.run=!0),ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj,"kladki-poziom"),ue.mainElements.player.obj.body.allowGravity=!0,ue.mainElements.player.obj.body.bounce.y=0,i.isUp=!0,ue.mainElements.player.obj.body.velocity.x+=i.body.velocity.x,ue.mainElements.player.obj.body.allowGravity=!1,fe.time.events.remove(ue.mainElements.kladki.kladkaPlayerBounceReset),ue.mainElements.kladki.kladkaPlayerBounceReset=fe.time.events.add(200,(function(){ue.mainElements.player.obj.body.bounce.y=.3}),this))}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.poziom.obj,ue.mainElements.intruders.obj,(function(e,i){}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionTopBack.obj,ue.mainElements.kladki.poziom.obj),fe.physics.arcade.collide(ue.mainElements.kladki.pionTopBack.obj,ue.mainElements.intruders.obj,(function(e,i){ue.intruzCollisonNoBack(i)})),fe.physics.arcade.collide(ue.mainElements.kladki.pionTopBack.obj,ue.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.kladki.run.startCollision(i,"pionTopBack"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.kladki.pionTopBack.obj,G,(function(e,i){ue.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionTopBack.obj,G,(function(e,i){ue.mainElements.kladki.run.endCollision(e,"pionTopBack")}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottomBack.obj,ue.mainElements.kladki.poziom.obj),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottomBack.obj,ue.mainElements.intruders.obj,(function(e,i){ue.intruzCollisonNoBack(i)})),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottomBack.obj,ue.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.kladki.run.startCollision(i,"pionBottomBack"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.kladki.pionBottomBack.obj,G,(function(e,i){ue.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottomBack.obj,G,(function(e,i){ue.mainElements.kladki.run.endCollision(e,"pionBottomBack")}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionTop.obj,ue.mainElements.kladki.poziom.obj),fe.physics.arcade.collide(ue.mainElements.kladki.pionTop.obj,ue.mainElements.intruders.obj,(function(e,i){ue.intruzCollisonNoBack(i)})),fe.physics.arcade.collide(ue.mainElements.kladki.pionTop.obj,ue.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.kladki.run.startCollision(i,"pionTop"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.kladki.pionTop.obj,G,(function(e,i){ue.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionTop.obj,G,(function(e,i){ue.mainElements.kladki.run.endCollision(e,"pionTop")}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottom.obj,ue.mainElements.kladki.poziom.obj),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottom.obj,ue.mainElements.intruders.obj,(function(e,i){ue.intruzCollisonNoBack(i)})),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottom.obj,ue.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(ue.mainElements.player.checkIfWasKilledAndOther(ue.mainElements.player.obj),ue.mainElements.kladki.run.startCollision(i,"pionBottom"))}),null,void 0),fe.physics.arcade.overlap(ue.mainElements.kladki.pionBottom.obj,G,(function(e,i){ue.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,void 0),fe.physics.arcade.collide(ue.mainElements.kladki.pionBottom.obj,G,(function(e,i){ue.mainElements.kladki.run.endCollision(e,"pionBottom")}),null,void 0),ue.mainElements.player.gun.shot(ue.mainElements.player),ue.mainElements.player.gun.visualGun(ue.mainElements.player),"object"==typeof M[X.activeIdLevel]&&M[X.activeIdLevel].fog&&M[X.activeIdLevel].fogSpeed&&(Y.x>=-2500?Y.x=-3e3:Y.x+=M[X.activeIdLevel].fogSpeed),X.backgroundParallax){if(M[X.activeIdLevel].background){let e=0;M[X.activeIdLevel].backgroundMoveX&&(e=-M[X.activeIdLevel].backgroundMoveX),F.cameraOffset.x=e-200-fe.camera.x/15}M[X.activeIdLevel].backgroundSecond&&(N.cameraOffset.x=-fe.camera.x/8)}ue.mainElements.player.generateAgain&&!ue.mainElements.player.gameOver&&(ue.mainElements.player.obj.body.x=te,ue.mainElements.player.obj.body.y=ae,ue.mainElements.player.obj.alpha=1,ue.mainElements.player.obj.play("idle-right"),ue.mainElements.player.generateAgain=!1),D.isDown&&(ue.mainElements.player.obj.body.onFloor()||v("kladki",ue.mainElements.logs.obj.children,!0)||v("kladki",ue.mainElements.kladki.poziom.obj.children,!0)||v("kladki",ue.mainElements.kladki.pionTopBack.obj.children,!0)||v("kladki",ue.mainElements.kladki.pionBottomBack.obj.children,!0)||v("kladki",ue.mainElements.kladki.pionTop.obj.children,!0)||v("kladki",ue.mainElements.kladki.pionBottom.obj.children,!0)||ue.mainElements.player.obj.youCanJump)&&fe.time.now>ue.mainElements.player.jumpTimer&&(X.blockedKeys||(ue.mainElements.player.obj.gForceWater?(ue.mainElements.player.obj.body.velocity.y=-ue.mainElements.player.velocityWater,ue.mainElements.player.jumpTimer=fe.time.now+ue.mainElements.player.velocityWater):ue.mainElements.stoneBigS.keepStone?(ue.mainElements.player.obj.body.velocity.y=-ue.mainElements.player.velocityStone,ue.mainElements.player.jumpTimer=fe.time.now+ue.mainElements.player.velocityStone):(ue.mainElements.player.obj.body.velocity.y=-ue.mainElements.player.velocityNormal,ue.mainElements.player.jumpTimer=fe.time.now+ue.mainElements.player.velocityNormal),ue.mainElements.player.obj.body.bounce.y||(ue.mainElements.player.obj.body.bounce.y=.3))),ue.mainElements.player.obj.t1||(ue.mainElements.player.obj.onGround=!1),fe.physics.arcade.overlap(ue.mainElements.player.obj,ue.mainElements.cactusAnimateS.obj,(function(e,i){e.holdLostLife||X.blockedKeys||(ue.mainElements.player.lostLife(e),ue.jumpCollision(e,250))}),null,void 0),me||(ue.windows.boxTopMenu.letAlways.show(),ue.windows.boxTopMenu.f||(ue.windows.boxTopMenu.let.show(),ue.windows.boxTopMenu.f=!0))}}}},fe=new Phaser.Game(ge)})();